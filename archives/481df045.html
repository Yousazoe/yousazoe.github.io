<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/favicon.ico" color="#222"><meta name="google-site-verification" content="35AYyqm-wpmGmXtkn-vQMrk7AkFl1Do55uHdlLLLT38"><meta name="baidu-site-verification" content="slBbq5f8WxljPytW"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/5.15.4/css/all.min.css"><link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//unpkg.com/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//unpkg.com/pace-js@1.2.4/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yousazoe.top",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:3,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="引言本节是基础知识，包括打开一个窗口，并将其替换为用户可控的颜色。"><meta property="og:type" content="article"><meta property="og:title" content="A Gentle Introduction to DirectX Raytracing 1"><meta property="og:url" content="https://yousazoe.top/archives/481df045.html"><meta property="og:site_name" content="Fl0w3r"><meta property="og:description" content="引言本节是基础知识，包括打开一个窗口，并将其替换为用户可控的颜色。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor01-Output.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor01-Output-20211206194358615.png"><meta property="article:published_time" content="2021-12-06T11:27:05.000Z"><meta property="article:modified_time" content="2022-09-14T15:50:49.117Z"><meta property="article:author" content="Yousazoe"><meta property="article:tag" content="Computer Graphics"><meta property="article:tag" content="Ray Tracing"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor01-Output.png"><link rel="canonical" href="https://yousazoe.top/archives/481df045.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>A Gentle Introduction to DirectX Raytracing 1 | Fl0w3r</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Fl0w3r" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Fl0w3r</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">carpe diem</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-address-card fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-paperclip fa-fw"></i>Links</a></li><li class="menu-item menu-item-photos"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Photos</a></li><li class="menu-item menu-item-artitalk"><a href="/artitalk/" rel="section"><i class="fa fa-calendar fa-fw"></i>Artitalk</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-document"><a href="/docs/" rel="section"><i class="fas fa-book fa-fw"></i>Document</a></li><li class="menu-item menu-item-qexoadmin"><a href="https://blog-yousazoe-qexo.vercel.app/" rel="noopener" target="_blank"><i class="fa fa-database fa-fw"></i>QexoAdmin</a></li><li class="menu-item menu-item-gametracker"><a href="https://yousazoe.notion.site/yousazoe/b05999823bd14b57a7a6cd81fba1a1af?v=21c3398e0bdb429c9b8157b7bf12ff6a" rel="noopener" target="_blank"><i class="fas fa-trophy fa-fw"></i>GameTracker</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://yousazoe.top/archives/481df045.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><meta itemprop="name" content="Yousazoe"><meta itemprop="description" content="done is better than perfect"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Fl0w3r"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">A Gentle Introduction to DirectX Raytracing 1</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-12-06 19:27:05" itemprop="dateCreated datePublished" datetime="2021-12-06T19:27:05+08:00">2021-12-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA-Ray-Tracing/" itemprop="url" rel="index"><span itemprop="name">光线追踪 (Ray Tracing)</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fas fa-pen"></i></span><span>11k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span>19 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p><img data-src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor01-Output.png"></p><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本节是基础知识，包括打开一个窗口，并将其替换为用户可控的颜色。</p><span id="more"></span><blockquote><p>As <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/dxr_tutors.md.html">discussed in our tutorial introduction</a>, our goal is to provide a simple infrastructure for getting a DirectX Raytracing application up and running without digging around in low-level API specification documents. So before digging into the meat of these tutorials, we focus a little on just getting started.</p></blockquote><p>正如我们的<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/dxr_tutors.md.html">教程简介</a>中所讨论的，我们的目标是提供一个简单的基础架构来启动和运行 DirectX Raytracing 应用程序，而无需在底层 API 规范文档中进行挖掘。因此，在深入研究这些教程的内容之前，我们先关注一下如何开始。</p><blockquote><p>These tutorials build up, step-by-step, to demonstrate a quite complex path tracer with global illumination, depth-of-field, and physically-based materials. However, the first few tutorials are fairly simple and focus on understanding the infrastructure we will take for granted in the more advanced tutorials. If you wish to jump ahead to a tutorial with actual DirectX Raytracing programming, <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor4/tutorial04.md.html">jump ahead to Tutorial 4</a>.</p></blockquote><p>这些教程将逐步构建具有全局照明、景深和基于物理材质的相当复杂的路径跟踪器。但是，前几个教程相当简单，重点是了解我们将在更高级的教程中认为理所当然的基础结构。如果您希望跳转到包含实际 DirectX 光线追踪编程的教程，<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor4/tutorial04.md.html">请跳到教程 4</a>。</p><h3 id="Our-Infrastructure"><a href="#Our-Infrastructure" class="headerlink" title="Our Infrastructure"></a>Our Infrastructure</h3><blockquote><p>These tutorials use <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a>, a prototypying framework I use every day in my job at NVIDIA Research. This is an open source, multi-platform wrapper around DirectX and Vulkan that is tested daily on NVIDIA, AMD, and Intel hardware, and it provides common tools needed for baseline graphics experimentation. This includes a GUI, window management, scene and asset loading, and common abstractions over graphics APIs suitable for developing graphics algorithms.</p></blockquote><p>本系列教程使用 <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a>，这是我在 NVIDIA Research 工作中每天使用的原型框架。这是一个围绕 DirectX 和 Vulkan 的开源多平台封装渲染器，每天在 NVIDIA，AMD 和 Intel 硬件上进行测试，它提供了图形渲染管线基础实验所需的常用工具，包括 GUI、窗口管理、场景和资产加载以及适用于开发图形算法的图形 API 的常见抽象。</p><blockquote><p>I added some additional wrappers around Falcor functionality to simplify creating a modular set of tutorials and reduce boilerplate code common in many complex graphics APIs. These wrappers are in the directory <code>DXRTutors\SharedUtils</code>, but you should not need to look there unless you need to modify or extend these tutorials in fairly complex ways.</p></blockquote><p>我围绕 Falcor 功能添加了一些额外的封装，以简化创建一组模块化教程的过程，并减少许多复杂图形 API 中常见的样板代码。这些封装位于 <code>DXRTutors\SharedUtils</code> 目录中，但除非您需要以相当复杂的方式修改或扩展这些封装，否则您不需要查看该目录。</p><h3 id="Building-a-Simple-Tutorial-Application"><a href="#Building-a-Simple-Tutorial-Application" class="headerlink" title="Building a Simple Tutorial Application"></a>Building a Simple Tutorial Application</h3><blockquote><p>If you open the project <code>DXRTutors\01-OpenWindow</code>, the main file is <code>Tutor01-OpenWindow.cpp</code>, and is just about 20 lines long.</p></blockquote><p>打开项目 <code>DXRTutors\01-OpenWindow</code>，主文件是 <code>Tutor01-OpenWindow.cpp</code>，长度约为 20 行：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Falcor.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"../SharedUtils/RenderingPipeline.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Passes/ConstantColorPass.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> WINAPI <span class="title">WinMain</span><span class="params">(_In_ HINSTANCE hInstance, _In_opt_ HINSTANCE hPrevInstance, </span></span></span><br><span class="line"><span class="params"><span class="function">   _In_ LPSTR lpCmdLine, _In_ <span class="type">int</span> nShowCmd)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  <span class="comment">// Create our rendering pipeline</span></span><br><span class="line">  RenderingPipeline *pipeline = <span class="keyword">new</span> <span class="built_in">RenderingPipeline</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Add passes into our pipeline</span></span><br><span class="line">  pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">0</span>, ConstantColorPass::<span class="built_in">create</span>());   </span><br><span class="line"></span><br><span class="line">  <span class="comment">// Define a set of configuration for our program</span></span><br><span class="line">  SampleConfig config;</span><br><span class="line">  config.windowDesc.title = </span><br><span class="line">    <span class="string">"Tutorial 1: Open a window and set up a simple rendering pipeline"</span>;</span><br><span class="line">  config.windowDesc.resizableWindow = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Start our program!</span></span><br><span class="line">  RenderingPipeline::<span class="built_in">run</span>(pipeline, config);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>This starts with some #includes for basic Falcor functionality, the required Falcor extensions for the DirectX Raytracing API, and the <code>RenderingPipeline</code> abstraction. Each of the tutorials is structured as a <code>RenderingPipeline</code>, which contains an arbitrarily-long sequence of <code>RenderingPasses</code>. A frame is rendered by executing each of the render passes in sequence.</p></blockquote><p>这段代码首先包含了许多头文件，包括 Falcor 的基本功能、DirectX Raytracing API 所需的 Falcor 扩展以及 <code>RenderingPipeline</code> 抽象。每个教程的结构都是一个 <code>RenderingPipeline</code> 其中包含任意长的 <code>RenderingPasses</code> 序列。一个帧序列是通过按顺序执行每个渲染通道来渲染的。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Falcor.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"../SharedUtils/RenderingPipeline.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Passes/ConstantColorPass.h"</span></span></span><br></pre></td></tr></tbody></table></figure><blockquote><p>In this simple example, there is a single pass called <code>ConstantColorPass</code>, which displays a constant color across the entire screen.</p></blockquote><p>在这个简单的示例中，我们有一个名为 <code>ConstantColorPass</code> 的单个通道，它在整个屏幕上显示恒定的颜色。</p><blockquote><p>The <code>SampleConfig</code> structure contains various parameters that control the window created by Falcor. In this case, we specify a title and note that the created window should be resizable.</p></blockquote><p><code>SampleConfig</code> 结构包含控制 Falcor 创建的窗口的各种参数。在这种情况下，我们指定一个标题 “Tutorial 1: Open a window and set up a simple rendering pipeline”，并注意创建的窗口应该可调整大小。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Define a set of configuration for our program</span></span><br><span class="line">SampleConfig config;</span><br><span class="line">config.windowDesc.title = </span><br><span class="line">    <span class="string">"Tutorial 1: Open a window and set up a simple rendering pipeline"</span>;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Finally, we start execution by calling the static method <code>RenderingPipeline::run</code> with our tutorial’s rendering pipeline and the window configuration.</p></blockquote><p>最后，我们通过调用静态方法 <code>RenderingPipeline::run</code> 来开始执行，并使用我们教程的渲染管道和窗口配置。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Start our program!</span></span><br><span class="line">RenderingPipeline::<span class="built_in">run</span>(pipeline, config);</span><br></pre></td></tr></tbody></table></figure><h3 id="Defining-a-New-Render-Pass"><a href="#Defining-a-New-Render-Pass" class="headerlink" title="Defining a New Render Pass"></a>Defining a New Render Pass</h3><blockquote><p>Before running the program, let’s look into what it takes to build a simple <code>RenderPass</code>. Our <code>ConstantColorPass</code> is located in the <code>Passes\</code> directory. First let’s examine the boilerplate:</p></blockquote><p>在运行程序之前，让我们看看构建一个简单的 <code>RenderPass</code> 需要什么。我们的 <code>ConstantColorPass</code> 位于 <code>Passes\</code> 目录中：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"../SharedUtils/RenderPass.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConstantColorPass</span> : <span class="keyword">public</span> RenderPass, </span><br><span class="line">      inherit_shared_from_this&lt; RenderPass, ConstantColorPass &gt;</span><br><span class="line">{</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">  <span class="keyword">using</span> SharedPtr = std::shared_ptr&lt; ConstantColorPass &gt;;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="type">static</span> SharedPtr <span class="title">create</span><span class="params">()</span> </span>{ <span class="keyword">return</span> <span class="built_in">SharedPtr</span>(<span class="keyword">new</span> <span class="built_in">ConstantColorPass</span>()); }</span><br><span class="line">  <span class="keyword">virtual</span> ~<span class="built_in">ConstantColorPass</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">  <span class="built_in">ConstantColorPass</span>() </span><br><span class="line">      : <span class="built_in">SimpleRenderPass</span>(<span class="string">"Constant Color Pass"</span>, <span class="string">"Constant Color Options"</span>) {}</span><br><span class="line">	</span><br><span class="line">  <span class="comment">// Actual functional methods declared below here</span></span><br><span class="line">  ...  </span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Here, <code>RenderPass</code> is the abstract class defining the interface a render pass needs to implement, and this abstract class resides in my directory of wrapper utilities.</p></blockquote><p>在这里，<code>RenderPass</code> 是定义渲染传递需要实现的接口的抽象类，这个抽象类驻留在我的封装实用程序目录中。</p><blockquote><p>Falcor makes heavy use of smart pointers (e.g., based on <code>std::shared_ptr</code>), and the Falcor utility class <code>inherit_shared_from_this</code> ensures derived classes don’t end up inheriting multiple copies of the internal pointers. Most Falcor classes define a <code>SharedPtr</code> type that simplifies the template notation when using smart pointers, and our wrappers keep up this tradition.</p></blockquote><p>Falcor 大量使用智能指针（例如，基于 <code>std::shared_ptr</code>），而 Falcor 的 utility 类 <code>inherit_shared_from_this</code> 确保派生类最终不会继承内部指针的多个副本。大多数 Falcor 类都定义了一个 <code>SharedPtr</code> 类型，该类型在使用智能指针时简化了模板表示，我们的封装保持了这一传统。</p><blockquote><p>We want all <code>RenderPasses</code> to be dynamically created. We enforce this with a <code>create</code> constructor. The inputs to the <code>SimpleRenderPass</code> constructor are strings that will be used by the GUI display. The first is the name to appear in the list of passes. The second is the name of this pass’ GUI window that contains any user-controllable options it exposes.</p></blockquote><p>我们希望所有 <code>RenderPasses</code> 动态创建的。为此我们使用 <code>create</code> 构造函数强制执行此操作。 <code>SimpleRenderPass</code> 构造函数的输入是 GUI 将使用的字符串。第一个是出现在凭证列表中的名称。第二个是此传递的 GUI 窗口的名称，其中包含它公开的任何用户可控选项。</p><blockquote><p>The important rendering methods and data in <code>ConstantColorPass</code> are as follows:</p></blockquote><p><code>ConstantColorPass</code> 中重要的渲染方法和数据如下：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">initialize</span><span class="params">(RenderContext::SharedPtr pRenderContext, </span></span></span><br><span class="line"><span class="params"><span class="function">                ResourceManager::SharedPtr pResManager)</span> <span class="keyword">override</span></span>;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>This method is called when the program and render pass are initialized. As part of initialization, a render pass receives a Falcor <code>RenderContext</code>, which allows you to create and access DirectX state and resources. Additionally, the <code>ResourceManager</code> is a utility class that enables sharing of resources between <code>RenderPasses</code>.</p></blockquote><p>初始化程序和渲染管道时调用此方法。作为初始化的一部分，渲染管道会收到一个 Falcor <code>RenderContext</code>，允许您创建和访问 DirectX 状态和资源。此外 <code>ResourceManager</code> 是一个实用程序类，它支持 <code>RenderPasses</code> .</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">renderGui</span><span class="params">(Gui* pGui)</span> <span class="keyword">override</span></span>;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>The <code>renderGui</code> method is called when drawing the application’s GUI and allows you to explicitly control placement of widgets in the GUI window for this pass. Falcor currently uses <a target="_blank" rel="noopener" href="https://github.com/ocornut/imgui">Dear Imgui</a> for GUI rendering, and the <code>Falcor::Gui</code> class is a light wrapper around Imgui’s functionality.</p></blockquote><p><code>renderGui</code> 方法在绘制应用程序的 GUI 时调用，并允许您显式控制此过程中小部件在 GUI 窗口中的位置。Falcor 目前使用 <a target="_blank" rel="noopener" href="https://github.com/ocornut/imgui">Dear Imgui</a> 进行 GUI 渲染，<code>Falcor::Gui</code> 类是围绕 Imgui 功能的轻量级封装。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">execute</span><span class="params">(RenderContext::SharedPtr pRenderContext)</span> <span class="keyword">override</span></span>;</span><br></pre></td></tr></tbody></table></figure><blockquote><p>The <code>execute</code> method is invoked when rendering a frame. If your pipeline contains multiple passes, their <code>execute</code> methods are called in the order of inclusion in the pipeline.</p></blockquote><p>在渲染帧时调用 <code>execute</code> 方法。如果管道包含多个通道，则将按管道中的顺序调用其 <code>execute</code> 方法。</p><h3 id="Implementing-a-New-Render-Pass"><a href="#Implementing-a-New-Render-Pass" class="headerlink" title="Implementing a New Render Pass"></a>Implementing a New Render Pass</h3><blockquote><p>Now that we’ve looked at the header for our <code>ConstantColorPass</code>, let’s look at how we implement each of the three important methods:</p></blockquote><p>现在我们已经看了 <code>ConstantColorPass</code> 的标头，让我们来看看我们如何实现这三个重要方法：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">ConstantColorPass::initialize</span><span class="params">(RenderContext::SharedPtr pRenderContext, </span></span></span><br><span class="line"><span class="params"><span class="function">                                   ResourceManager::SharedPtr pResManager)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  <span class="comment">// Remember our resource manager, so we can ask for resources later</span></span><br><span class="line">  mpResManager = pResManager;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Tell our resource manager that we need access to the output channel</span></span><br><span class="line">  mpResManager-&gt;<span class="built_in">requestTextureResource</span>(ResourceManager::kOutputChannel);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// If we return false, this pass will be removed from our pipeline.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>For our simple <code>ConstantColorPass</code>, we do two important initialization tasks:</p><ol><li>Keep a copy of our resource manager, so we can access shared textures and buffers later. <code>mpResManager</code> is a member variable declared in the base class <code>RenderPass</code>.</li><li>Tell the resource manager that this pass requires access to the <code>kOutputChannel</code> texture. This texture is a required output from any pipeline, as it gets displayed onscreen after all <code>RenderPasses</code> execute.</li></ol></blockquote><p>对于简单的 <code>ConstantColorPass</code> 我们执行两个重要的初始化任务：</p><ol><li>保留资源管理器的副本，以便之后可以访问共享纹理和缓冲区。 <code>mpResManager</code> 是在基类 <code>RenderPass</code> 中声明的成员变量</li><li>告诉资源管理器此传递需要访问 <code>kOutputChannel</code> 纹理。此纹理是任何管道的必需输出，因为它在所有 <code>RenderPasses</code> 执行后都会显示在屏幕上</li></ol><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConstantColorPass::renderGui</span><span class="params">(Gui* pGui)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  <span class="comment">// Add a GUI widget allowing us to dynamically change the displayed color</span></span><br><span class="line">  pGui-&gt;<span class="built_in">addFloat3Var</span>(<span class="string">"Color"</span>, mConstColor, <span class="number">0.0f</span>, <span class="number">1.0f</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Our <code>renderGui</code> defines what widgets are available to interact with when we open the GUI window for the <code>ConstantColorPass</code>. In this case, we’ll have an RGB color control (i.e., a <code>float3</code>) where all components can freely be changed between the values of <code>0.0f</code> and <code>1.0f</code>.</p></blockquote><p>我们的 <code>renderGui</code> 定义了当我们打开 <code>ConstantColorPass</code> 的 GUI 窗口时，哪些小部件可以与之交互。在这种情况下，我们将有一个 RGB 颜色控件（即 <code>float3</code> 其中所有组件都可以在 <code>0.0f</code> 到 <code>1.0f</code> 的值之间自由更改。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ConstantColorPass::execute</span><span class="params">(RenderContext::SharedPtr pRenderContext)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  <span class="comment">// Get a pointer to a Falcor texture resource of our output channel</span></span><br><span class="line">  Texture::SharedPtr outTex = </span><br><span class="line">      mpResManager-&gt;<span class="built_in">getTexture</span>(ResourceManager::kOutputChannel);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Clear the texture to the appropriate color</span></span><br><span class="line">  mpResManager-&gt;<span class="built_in">clearTexture</span>(outTex, <span class="built_in">vec4</span>(mConstColor, <span class="number">1.0f</span>));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>The <code>execute</code> method is invoked when the pipeline wants us to perform our rendering tasks. For a simple pass like <code>ConstantColorPass</code>, we have exactly two goals:</p><ol><li>Get a handle to the buffer that will be displayed on screen, and</li><li>Clear this buffer to the user-specified constant color.</li></ol></blockquote><p>当管道希望我们执行渲染任务时，将调用 <code>execute</code> 方法。对于像 <code>ConstantColorPass</code> 这样的简单管线，我们正好有两个目标：</p><ol><li>获取将显示在屏幕上的缓冲区的句柄</li><li>然后将此缓冲区清除为用户指定的常量颜色</li></ol><blockquote><p>To do the first task, we simply ask our resource manager for the requested texture. This only works if we called <code>requestTextureResource</code> with the corresponding texture during pass initialization. The resource manager handles creation, destruction, and sharing of all textures that any pass has requested. It also handles resizing of screen-sized buffers (all textures default to screen size unless a different size is requested).</p></blockquote><blockquote><p>We then call the <code>clearTexture()</code> utility method that is part of the <code>ResourceManager</code> class. This hides some DirectX details (i.e., how to clear a resource varies depending on what <em>resource views</em> it be bound with).</p></blockquote><p>然后，我们调用 <code>clearTexture()</code> 方法，该方法属于 <code>ResourceManager</code> 类。这隐藏了一些 DirectX 细节（即如何清除资源取决于绑定<em>的资源视图</em>）。</p><h3 id="What-Does-it-Look-Like"><a href="#What-Does-it-Look-Like" class="headerlink" title="What Does it Look Like?"></a>What Does it Look Like?</h3><p>现在，如果您运行它将获得类似于以下内容的结果：</p><p><img data-src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor01-Output-20211206194358615.png"></p><blockquote><p>To open the GUI window for the <em><code>ConstantColorPass</code></em>, click the little box to the left of the text “Constant Color Pass” in the main window GUI.</p></blockquote><p>如需打开 <code>ConstantColorPass</code> 的 GUI 窗口，请单击主窗口 GUI 中文本”Constant Color Pass”左侧的小框。</p><blockquote><p>Hopefully, this tutorial clarified how to set up a simple application with our framework and define a basic render pass to control what appears on screen. We will skip many of these basics and ignore the boilerpate in future tutorials.</p></blockquote><p>希望本节教程阐明了如何使用我们的框架设置一个简单的应用程序，并定义一个基本的渲染通道来控制屏幕上显示的内容。我们将在以后的教程中跳过其中的许多基础知识并忽略该样板。</p><blockquote><p>When you are ready, continue on to <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor2/tutorial02.md.html">Tutorial 2</a>, where we build a <em>slightly</em> more complex raster pass with a basic HLSL shader.</p></blockquote><p>准备就绪后，请继续学习<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor2/tutorial02.md.html">教程2</a>，我们将使用基本的 HLSL 着色器构建<em>稍微</em>复杂的栅格管道。</p></div><div class="popular-posts-header">Related Posts</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/7dbe30e4.html" rel="bookmark">Blockwise Multi-Order Feature Regression for Real-Time Path Tracing Reconstruction</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/971404c0.html" rel="bookmark">Rendering Course by Wangningbei</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/8b6729fe.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 14</a></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/Computer-Graphics/" rel="tag"># Computer Graphics</a> <a href="/tags/Ray-Tracing/" rel="tag"># Ray Tracing</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/3f1ac0d3.html" rel="prev" title="A Gentle Introduction to DirectX Raytracing 0"><i class="fa fa-chevron-left"></i> A Gentle Introduction to DirectX Raytracing 0</a></div><div class="post-nav-item"><a href="/archives/592c1a1d.html" rel="next" title="性别、边缘、斗争、妥协，我们在政治正确的路上走得太远了吗？">性别、边缘、斗争、妥协，我们在政治正确的路上走得太远了吗？ <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:e}=CONFIG.comments;if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">引言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Our-Infrastructure"><span class="nav-number">2.</span> <span class="nav-text">Our Infrastructure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Building-a-Simple-Tutorial-Application"><span class="nav-number">3.</span> <span class="nav-text">Building a Simple Tutorial Application</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Defining-a-New-Render-Pass"><span class="nav-number">4.</span> <span class="nav-text">Defining a New Render Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Implementing-a-New-Render-Pass"><span class="nav-number">5.</span> <span class="nav-text">Implementing a New Render Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Does-it-Look-Like"><span class="nav-number">6.</span> <span class="nav-text">What Does it Look Like?</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yousazoe" src="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><p class="site-author-name" itemprop="name">Yousazoe</p><div class="site-description" itemprop="description">done is better than perfect</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">290</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">46</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">71</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:zoeyousa@gmail.com" title="E-Mail → mailto:zoeyousa@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://github.com/Yousazoe" title="GitHub → https://github.com/Yousazoe" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/YousaZoe" title="Twitter → https://twitter.com/YousaZoe" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" title="Weibo → https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://steamcommunity.com/profiles/76561198856466228/" title="Steam → https://steamcommunity.com/profiles/76561198856466228/" rel="noopener" target="_blank"><i class="fab fa-steam fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.chess.com/member/yousazoe" title="Chess → https://www.chess.com/member/yousazoe" rel="noopener" target="_blank"><i class="fa fa-chess-pawn fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → /atom.xml"><i class="fa fa-rss fa-fw"></i></a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div><div class="twopeople"><div class="container" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://img.yousazoe.top/js/twopeople1.js"></script><script src="https://img.yousazoe.top/js/zdog.dist.js"></script><script id="rendered-js" src="https://img.yousazoe.top/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style></div><div class="cc-license animated" itemprop="sponsor"><link rel="preconnect" href="https://www.netlify.com"><span class="exturl cc-opacity" title="Deploy with Netlify → https://www.netlify.com" data-url="aHR0cHM6Ly93d3cubmV0bGlmeS5jb20="><img width="80" src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Netlify"></span></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="translate-style">繁/简：<a id="translateLink" href="javascript:translatePage();">繁体</a></div><script type="text/javascript" src="/js/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://tding.top/",msgToTraditionalChinese="繁体",msgToSimplifiedChinese="简体",translateButtonId="translateLink";translateInitilization()</script><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">晋ICP备2021009930号 </a><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://img.yousazoe.top/uPic/img/blog/icon/beian.png" style="display:inline-block"></div><div class="copyright">© 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yousazoe</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="Symbols count total">4.5m</span></div><div class="powered-by"><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/YukiNoUta/cdn-static@main/blog/svg/upyun.svg" width="53" height="18" style="fill:currentColor;display:inline-block"></a></span><span class="post-meta-divider">|</span>今早雾霾蔽日，但是不要害怕，太阳依旧在云端</div><div class="busuanzi-count"><script data-pjax="" async="" src="js/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="//unpkg.com/animejs@3.1.0/lib/anime.min.js"></script><script src="//npm.elemecdn.com/pjax/pjax.min.js"></script><script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="//unpkg.com/lozad@1.16.0/dist/lozad.min.js"></script><script src="//lib.baomitu.com/pangu/4.0.7/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
    $(document).ready(function () {

    if(location.href.indexOf("#reloaded")==-1){
        location.href=location.href+"#reloaded";
        location.reload();
    }
}）
#在这后面可以加入程序的其他代码  


  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });

  
  NexT.boot.refresh();
  
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  
  NexT.utils.updateSidebarPosition();
});</script><script defer="" src="//img.yousazoe.top/js/three.min.js"></script><script defer="" src="//img.yousazoe.top/js/caidai.js"></script><script data-pjax="">!function(){var e,t,o,n,r=document.getElementsByTagName("link");if(0<r.length)for(i=0;i<r.length;i++)"canonical"==r[i].rel.toLowerCase()&&r[i].href&&(e=r[i].href);t=(e||window.location.protocol).split(":")[0],e=e||window.location.href,window,o=e,n=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(o)||(t="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",n?(t+="?r="+encodeURIComponent(document.referrer),o&&(t+="&l="+o)):o&&(t+="?l="+o),(new Image).src=t)}()</script><script src="/js/local-search.js"></script><script data-pjax="">document.querySelectorAll(".pdfobject-container").forEach(e=>{var t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),r=`/lib/pdf/web/viewer.html?file=${encodeURIComponent(t)}${a}`;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${r}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script data-pjax="">document.querySelectorAll("pre.mermaid").length&&NexT.utils.getScript("//lib.baomitu.com/mermaid/8.4.8/mermaid.min.js",()=>{mermaid.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})},window.mermaid)</script><div id="pjax"></div><script type="text/javascript" src="/js/cursor/fireworks.js"></script><script src="https://img.yousazoe.top/live2dw/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/hijiki.model.json"},display:{position:"right",width:100,height:200},mobile:{show:!0},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:5,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}o(),n.addEventListener("scroll",function(){var t=o,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>