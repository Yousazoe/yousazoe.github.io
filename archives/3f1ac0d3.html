<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/favicon.ico" color="#222"><meta name="google-site-verification" content="35AYyqm-wpmGmXtkn-vQMrk7AkFl1Do55uHdlLLLT38"><meta name="baidu-site-verification" content="slBbq5f8WxljPytW"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/5.15.4/css/all.min.css"><link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//unpkg.com/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//unpkg.com/pace-js@1.2.4/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yousazoe.top",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:3,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="How I Made Gaming Room by        Anes Hasanovic             引言本 DirectX RayTracing 教程在  SIGGRAPH 2018 发布，做一下翻译学习。"><meta property="og:type" content="article"><meta property="og:title" content="A Gentle Introduction to DirectX Raytracing 0"><meta property="og:url" content="https://yousazoe.top/archives/3f1ac0d3.html"><meta property="og:site_name" content="Fl0w3r"><meta property="og:description" content="How I Made Gaming Room by        Anes Hasanovic             引言本 DirectX RayTracing 教程在  SIGGRAPH 2018 发布，做一下翻译学习。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/c08a78119906037.60a6e758021e1.png"><meta property="article:published_time" content="2021-12-05T08:29:29.000Z"><meta property="article:modified_time" content="2022-08-07T12:56:34.974Z"><meta property="article:author" content="Yousazoe"><meta property="article:tag" content="Computer Graphics"><meta property="article:tag" content="Ray Tracing"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/c08a78119906037.60a6e758021e1.png"><link rel="canonical" href="https://yousazoe.top/archives/3f1ac0d3.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>A Gentle Introduction to DirectX Raytracing 0 | Fl0w3r</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Fl0w3r" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Fl0w3r</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">carpe diem</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-address-card fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-paperclip fa-fw"></i>Links</a></li><li class="menu-item menu-item-photos"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Photos</a></li><li class="menu-item menu-item-artitalk"><a href="/artitalk/" rel="section"><i class="fa fa-calendar fa-fw"></i>Artitalk</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-document"><a href="/docs/" rel="section"><i class="fas fa-book fa-fw"></i>Document</a></li><li class="menu-item menu-item-qexoadmin"><a href="https://blog-yousazoe-qexo.vercel.app/" rel="noopener" target="_blank"><i class="fa fa-database fa-fw"></i>QexoAdmin</a></li><li class="menu-item menu-item-gametracker"><a href="https://yousazoe.notion.site/yousazoe/b05999823bd14b57a7a6cd81fba1a1af?v=21c3398e0bdb429c9b8157b7bf12ff6a" rel="noopener" target="_blank"><i class="fas fa-trophy fa-fw"></i>GameTracker</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://yousazoe.top/archives/3f1ac0d3.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><meta itemprop="name" content="Yousazoe"><meta itemprop="description" content="done is better than perfect"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Fl0w3r"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">A Gentle Introduction to DirectX Raytracing 0</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-12-05 16:29:29" itemprop="dateCreated datePublished" datetime="2021-12-05T16:29:29+08:00">2021-12-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA-Ray-Tracing/" itemprop="url" rel="index"><span itemprop="name">光线追踪 (Ray Tracing)</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fas fa-pen"></i></span><span>9.6k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span>17 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p><img data-src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/c08a78119906037.60a6e758021e1.png"></p><div align="center"><font size="3"><i><a target="_blank" rel="noopener" href="https://www.behance.net/gallery/119906037/How-I-Made-Gaming-Room">How I Made Gaming Room</a> by <a target="_blank" rel="noopener" href="https://www.behance.net/hasanovicanes">Anes Hasanovic</a></i></font></div><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本 DirectX RayTracing 教程在 SIGGRAPH 2018 发布，做一下翻译学习。</p><span id="more"></span><h3 id="What-is-DirectX-Raytracing"><a href="#What-is-DirectX-Raytracing" class="headerlink" title="What is DirectX Raytracing?"></a>What is DirectX Raytracing?</h3><blockquote><p>At the 2018 <a target="_blank" rel="noopener" href="http://www.gdconf.com/">Game Developer’s Conference</a>, <a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/directx/2018/03/19/announcing-microsoft-directx-raytracing/">Microsoft introduced</a> an addition to <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/DirectX">DirectX 12</a> called <em>DirectX Raytracing</em> (DXR), an API allowing easy use of GPU-accelerated <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ray_tracing_(graphics)">ray tracing</a> in DirectX and allowing simple interoperability with traditional DirectX rasterization. Unlike most other GPU-accelerated ray tracing APIs, there are not specialized interoperability considerations to allow a rasterizer and ray tracer to efficiently share GPU resources. Instead, the same resources can easily be reused between rasterization and ray tracing.</p></blockquote><p>在 2018 年<a target="_blank" rel="noopener" href="http://www.gdconf.com/">游戏开发者大会</a>上，<a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/directx/2018/03/19/announcing-microsoft-directx-raytracing/">微软</a>推出了 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/DirectX">DirectX 12</a> 被称为 <em>DirectX Raytracing (DXR）</em>的新增功能，这是一个允许在DirectX 中轻松使用GPU加速<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ray_tracing_(graphics)">光线追踪</a>的API，并且能够与传统的 DirectX 光栅化进行简单的交互操作。与其他大多数 GPU 加速光线追踪的 API 不同，它不需要特殊的注意事项就能使光栅化器和光线追踪器有效地共享 GPU 资源，这些资源可以在光栅化和光线追踪之间轻松复用。</p><blockquote><p>Additionally, as a Microsoft standard, this should enable writing cross-vendor ray tracers. If your GPU drivers do not support DXR today, Microsoft has a <a target="_blank" rel="noopener" href="http://aka.ms/dxrsdk">software fallback layer</a> that should work on Windows 10 RS4 using any GPU with Shader Model 6.0 support.</p></blockquote><p>此外，如果您的 GPU 驱动程序目前不支持 DXR，Microsoft 有一个 <a target="_blank" rel="noopener" href="http://aka.ms/dxrsdk">software fallback layer</a>，该层能够在 Windows 10 RS4 任何支持 Shader Model 6.0 的 GPU 上运行 DXR。</p><blockquote><p>We also presented a <a target="_blank" rel="noopener" href="https://s2018.siggraph.org/">SIGGRAPH 2018</a> <a target="_blank" rel="noopener" href="https://s2018.siggraph.org/presentation/?id=gensubcur_104&amp;sess=sess268">course</a> covering the basics in an <a target="_blank" rel="noopener" href="http://intro-to-dxr.cwyman.org/">“Introduction to DirectX Raytracing”</a>. You can find detailed slides and other resources on the <a target="_blank" rel="noopener" href="http://intro-to-dxr.cwyman.org/">course webpage</a>.</p></blockquote><p>我们还提到了 <a target="_blank" rel="noopener" href="https://s2018.siggraph.org/">SIGGRAPH 2018</a><a target="_blank" rel="noopener" href="https://s2018.siggraph.org/presentation/?id=gensubcur_104&amp;sess=sess268">课程</a>，涵盖了<a target="_blank" rel="noopener" href="http://intro-to-dxr.cwyman.org/">“入门 DirectX 光线追踪”</a>中的基础知识。您可以在<a target="_blank" rel="noopener" href="http://intro-to-dxr.cwyman.org/">课程网页</a>上找到详细的幻灯片和其他资源。</p><blockquote><p><em><strong>Impatient to get started?</strong></em> Grab <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">the code</a> and <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/dxr_tutors.md.html#toc5">jump to</a> the tutorials walkthrough.</p></blockquote><p><em><strong>迫不及待地想开始？</strong></em> <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">获取代码</a>并<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/dxr_tutors.md.html#toc5">跳转到</a>教程演练。</p><h4 id="Resources-for-Learning-Ray-Tracing"><a href="#Resources-for-Learning-Ray-Tracing" class="headerlink" title="Resources for Learning Ray Tracing"></a>Resources for Learning Ray Tracing</h4><blockquote><p>My goal is <strong>not</strong> to teach you ray tracing. Instead, I largely assume you understand the basics of ray tracing, e.g., from an introductory graphics text. If you are looking for resources to get you to that stage, some good options include:</p><ul><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Ray-Tracing-Weekend-Minibooks-Book-ebook/dp/B01B5AODD8">Ray Tracing In One Weekend</a>, which has a devoted following on my Twitter feed.</li><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Fundamentals-Computer-Graphics-Steve-Marschner/dp/1482229390/">Fundamentals of Computer Graphics</a>, a widely-used introductory graphics text.</li><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Realistic-Tracing-Second-Peter-Shirley/dp/1568814615">Realistic Ray Tracing</a>, a text focusing on implementing a realistic ray tracer.</li><li><a target="_blank" rel="noopener" href="http://www.raytracegroundup.com/">Ray Tracing From The Ground Up</a>, an introductory graphics text focusing on ray tracing.</li><li><a target="_blank" rel="noopener" href="https://graphicscodex.com/">Graphics Codex</a>, an online resource with bits of information about all things graphics.</li></ul></blockquote><p>我的目标<strong>不是</strong>教你光线追踪。相反，我在很大程度上假设您了解光线追踪的基础知识，例如从图形学入门读本中（已经了解）。如果您正在寻找资源来帮助您进入该阶段，那么下面是一些不错的选择：</p><ul><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Ray-Tracing-Weekend-Minibooks-Book-ebook/dp/B01B5AODD8">Ray Tracing In One Weekend</a>，在我的 Twitter 上拥有忠实的追随者。</li><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Fundamentals-Computer-Graphics-Steve-Marschner/dp/1482229390/">Fundamentals of Computer Graphics</a>,，一个广泛使用的图形学入门读本。</li><li><a target="_blank" rel="noopener" href="https://www.amazon.com/Realistic-Tracing-Second-Peter-Shirley/dp/1568814615">Realistic Ray Tracing</a>，一个专注于实现真实感渲染的光线追踪器的文本。</li><li><a target="_blank" rel="noopener" href="http://www.raytracegroundup.com/">Ray Tracing From The Ground Up</a>，一个专注于光线追踪的图形学入门读本。</li><li><a target="_blank" rel="noopener" href="https://graphicscodex.com/">Graphics Codex</a>，一个包揽有关图形所有信息的在线资源。</li></ul><h3 id="Tutorial-Goals"><a href="#Tutorial-Goals" class="headerlink" title="Tutorial Goals"></a>Tutorial Goals</h3><blockquote><p>Frequently, when new APIs are released, documentation is accessible and understandable only by experts in the area. This is especially true with modern graphics APIs, like DirectX 12, which operate close to the hardware. These tutorials are <em><strong>explicitly designed</strong></em> to help more naive GPU programmers get a simple ray tracer running quickly and allow for easy experimentation.</p></blockquote><p>通常当发布新的 API 时，只有该领域的专家才能理解文档。对于现代图形 API（如 DirectX 12）尤其如此，它们直接基于硬件运行。这些教程<em><strong>明确设计用于</strong></em>帮助对此生疏的 GPU 程序员快速运行简单的光线追踪器，并允许轻松进行尝试。</p><blockquote><p>That means we have highly abstracted the CPU-side, C++ DirectX Raytracing API. If you want to learn the specifics of the host-side API, other tutorials can help you (e.g., the <a target="_blank" rel="noopener" href="https://github.com/NVIDIAGameWorks/DxrTutorials">Falcor DXR API tutorials</a> or <a target="_blank" rel="noopener" href="http://aka.ms/dxrsdk">Microsoft’s DXR SDK</a>). To abstract the API, we use NVIDIA’s <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a> <a target="_blank" rel="noopener" href="https://github.com/NVIDIAGameWorks/Falcor">framework</a>, an open-source prototyping infrastructure we built at <a target="_blank" rel="noopener" href="https://research.nvidia.com/">NVIDIA Research</a> to help improve our research productivity. I added an additional syntactic sugar layer to further simplify the interface.</p></blockquote><p>这意味着我们已经高度抽象了 CPU 端，C++ DirectX Raytracing API。如果您想了解主机端 API 的细节，其他教程可以帮助您（例如 <a target="_blank" rel="noopener" href="https://github.com/NVIDIAGameWorks/DxrTutorials">Falcor DXR API教程</a>或<a target="_blank" rel="noopener" href="http://aka.ms/dxrsdk">Microsoft的DXR SDK）</a>。为了抽象 API，我们使用 NVIDIA 的 <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a> 框架，这是我们在 <a target="_blank" rel="noopener" href="https://research.nvidia.com/">NVIDIA Research</a> 构建的开源原型基础框架，帮助提高我们的研究生产力。我添加了一个额外的语法糖层，以进一步简化界面。</p><blockquote><p>The tutorials build on each other, so each adds only an incremental, easy-to-grasp chunk of code. Our abstraction relies on a simple, modular render pass architecture that localizes changes and simplifies code reuse between tutorials. A resource manager abstracts creation and management of texture resources shared between these modular render passes.</p></blockquote><p>这些教程相互连通，因此每个教程都只添加了一个增量的、易于掌握的代码块。我们的抽象层依赖于一个简单的模块化渲染通道架构，该架构可本地化更改并简化教程之间的代码重用。资源管理器抽象化了在这些模块化渲染通道之间共享的纹理资源的创建和管理。</p><blockquote><p>After finishing the tutorials, you will be able to quickly and easily:</p><ul><li>Open a window using a DirectX context,</li><li>Run raster, ray tracing, and compute passes that interact with each other,</li><li>Load Falcor scene files (ASCII text-based and can include .obj and .fbx files),</li><li>Generate an easily-customizable <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Deferred_shading">G-Buffer</a> using either rasterization or ray tracing,</li><li>Spawn deferred shading rays from this G-Buffer for hybrid ray-raster rendering,</li><li>Use traditional ray tracing effects including: ambient occlusion, mirror reflections, shadow rays, and path tracing,</li><li>Use a simple GGX material model for direct and indirect lighting,</li><li>Easily add complex camera models introducing depth-of-field,</li><li>Accumulate samples temporally for generating ground truth ray traced images.</li><li>Build an interactive version of the final example from <a target="_blank" rel="noopener" href="https://www.cs.utah.edu/~shirley/">Pete Shirley</a>‘s <a target="_blank" rel="noopener" href="https://www.amazon.com/Ray-Tracing-Weekend-Minibooks-Book-ebook/dp/B01B5AODD8">Ray Tracing In One Weekend</a> e-book, which includes intersecting spheres and reflective and refractive materials.</li></ul></blockquote><p>完成教程后，您将能够快速轻松地：</p><ul><li>使用 DirectX 打开一个窗口</li><li>运行相互作用的栅格、光线追踪和计算管线</li><li>加载 Falcor 场景文件（基于 ASCII 文本，也可以包括 .obj 和 .fbx 文件）</li><li>使用光栅化或光线追踪生成易于自定义的 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Deferred_shading">G缓冲区</a></li><li>从G缓冲区生成用于混合光线栅格渲染的延迟着色光线</li><li>使用传统的光线追踪效果，包括：环境光遮蔽、镜像反射、阴影光线和路径追踪</li><li>使用简单的 GGX 材料模型进行直接和间接照明</li><li>轻松添加复杂的相机模型并引入景深</li><li>暂时累积样本，以生成地面实况射线追踪图像</li><li>构建 <a target="_blank" rel="noopener" href="https://www.cs.utah.edu/~shirley/">Pete Shirley</a> 的<a target="_blank" rel="noopener" href="https://www.amazon.com/Ray-Tracing-Weekend-Minibooks-Book-ebook/dp/B01B5AODD8">《一个周末的光线追踪</a>》电子书中最后一个示例的交互式版本，其中包括相交的球体以及反射和折射材料</li></ul><h3 id="Tutorial-Requirements"><a href="#Tutorial-Requirements" class="headerlink" title="Tutorial Requirements"></a>Tutorial Requirements</h3><blockquote><p>Requirements depend on if you are using a release version of DirectX Raytracing (in Windows 10 RS5 or later) or are using the experimental version of DirectX Raytracing (in Windows 10 RS4). We encourage everyone to develop on RS5 or later, as it removes multiple sources of crypic errors.</p></blockquote><p>配置需求取决于您使用的是 DirectX Raytracing 的发行版（在 Windows 10 RS5 中或更高版本中）还是正在使用 DirectX Raytracing 的实验版本（在 Windows 10 RS4 中）。我们建议每个人在 RS5 或更高版本上进行开发，因为它可以消除多个来源的神秘错误。</p><blockquote><p>For all DirectX Raytracing, you need:</p><ul><li>A 64-bit version of Windows 10. Check the version by running <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/rs4winver.png"><em>winver.exe</em></a>.<ul><li>Version 1803 is Windows 10 RS4.</li><li>Version 1809 is Windows 10 RS5.</li><li>Later versions should also work.</li></ul></li><li><em>Visual Studion 2017</em>. Note: the free <a target="_blank" rel="noopener" href="https://www.visualstudio.com/downloads">Visual Studio Community Edition</a> works just fine.</li><li>A graphics card and driver that support DirectX Raytracing<ul><li>We suggest NVIDIA drivers should be 416.xx and above.</li></ul></li></ul></blockquote><p>对于所有 DirectX 光线追踪，您需要：</p><ul><li>64 位版本的 Windows 10。通过运行 <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/rs4winver.png"><em>winver.exe</em></a> 检查版本<ul><li>版本1803 为 Windows 10 RS4</li><li>版本1809 为 Windows 10 RS5</li><li>更高版本也应该有效</li></ul></li><li><em>Visual Studion 2017</em>.注意：免费的 <a target="_blank" rel="noopener" href="https://www.visualstudio.com/downloads">Visual Studio 社区版</a> 就足矣</li><li>支持 DirectX 光线追踪的图形卡和驱动程序<ul><li>我们建议 NVIDIA 驱动程序应为 416.xx 及更高版本</li></ul></li></ul><blockquote><p>For Windows 10 RS5, you also need:</p><ul><li><em>Windows 10 SDK 10.0.17763.0</em> <a target="_blank" rel="noopener" href="https://developer.microsoft.com/en-us/windows/downloads/sdk-archive">Get it here</a>.<ul><li>Later SDK versions may work, but you need to know how to update the SDK used in Visual Studio.</li></ul></li></ul></blockquote><p>对于 Windows 10 RS5，您还需要：</p><ul><li>Windows 10 SDK 10.0.17763.0 <a target="_blank" rel="noopener" href="https://developer.microsoft.com/en-us/windows/downloads/sdk-archive">在此处获取</a>.<ul><li>更高的 SDK 版本可能有效，但您需要知道如何更新在 Visual Studio 中使用的 SDK</li></ul></li></ul><blockquote><p>For Windows 10 RS4, you also need:</p><ul><li><em>Windows 10 SDK 10.0.16299.91</em> <a target="_blank" rel="noopener" href="https://developer.microsoft.com/en-us/windows/downloads/sdk-archive">Get it here</a>.<ul><li>Later SDK versions may work, but you need to know how to update the SDK used in Visual Studio.</li></ul></li><li>Ensure Windows is in <em>Developer Mode</em>. (See <em>PC Settings</em> → <em>Update &amp; Security</em> → <em>For Developers</em>, and select “Developer mode”)</li><li>Our RS4 tutorials will <em>only</em> work on NVIDIA Titan V, Quadro GV100, and GeForce RTX cards.</li></ul></blockquote><p>对于 Windows 10 RS4，您还需要：</p><ul><li><em>Windows 10 SDK 10.0.16299.91</em> <em>1</em> <a target="_blank" rel="noopener" href="https://developer.microsoft.com/en-us/windows/downloads/sdk-archive">在此处获取</a>.</li><li>确保 Windows 处于<em>开发人员模式</em>。（请参阅 <strong>PC 设置</strong>→<strong>更新和安全</strong>→<strong>面向开发人员</strong>，然后选择”开发人员模式”）</li><li>我们的 RS4 教程<strong>只适用</strong>于 NVIDIA Titan V、Quadro GV100 和 GeForce RTX 卡</li></ul><p>（译注：GTX可以运行前两个程序，从 GBuffer 开始会报错设备无法支持光线追踪，所以本教程至少需要一个 RTX 系列的显卡。）</p><blockquote><p>We have not had a chance (or the hardware) to test the software fallback layer on Windows 10 RS5. In theory, these RS5 tuorials run on GPUs without hardware-accelerated ray tracing that support DirectX 12. We will update the information here as time permits. (Please let me know your results if you try running on other hardware.)</p></blockquote><p>我们没有机会（或硬件）在Windows 10 RS5上测试 software fallback layer（译注：软件回退层？）。从理论上讲，这些 RS5 tuorials 也能在没有支持 DirectX 12 的硬件加速光线追踪的 GPU 上运行。如果时间允许，我们将在此处更新信息。（如果您尝试在其他硬件上运行，请让我知道您的结果。）</p><h3 id="Getting-the-Code"><a href="#Getting-the-Code" class="headerlink" title="Getting the Code"></a>Getting the Code</h3><blockquote><p>You can grab the tutorials:</p><ul><li>The <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">code</a>, <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutorCodeReadme.txt">readme</a>, and <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Binary.Win10-RS4.zip">precompiled binaries</a> for Windows 10 RS4.</li><li>The <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.Win10-RS5.zip">code</a>, <a target="_blank" rel="noopener" href="http://cwyman.org/code/tutorCodeReadmeRS5.txt">readme</a>, and <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Binary.Win10-RS5.zip">precompiled binaries</a> for Windows 10 RS5 and later.</li></ul></blockquote><p>您可以于此获取教程：</p><ul><li>Windows 10 RS4 的<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">代码</a>、<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutorCodeReadme.txt">自述文件</a>和<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Binary.Win10-RS4.zip">预编译二进制文件</a></li><li>Windows 10 RS5 的<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.Win10-RS5.zip">代码</a>、<a target="_blank" rel="noopener" href="http://cwyman.org/code/tutorCodeReadmeRS5.txt">自述文件</a>和<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Binary.Win10-RS5.zip">预编译二进制文件</a></li></ul><blockquote><p>Prebuilt binaries come with all dependencies included (except the GPU, driver, and OS). Please read the README in the binaries package for more details.</p></blockquote><p>预编译的二进制文件包含所有依赖项（GPU、驱动程序和操作系统除外）。有关更多详细信息，请阅读二进制文件包中的自述文件。</p><blockquote><p>Code comes with most dependencies. However, we rely on the open source <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a> framework, which has a number of external dependencies. These are downloaded via a simple script which runs as a build step in Visual Studio (<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutorCodeReadme.txt">see the README</a>), so your first build may take longer than usual.</p></blockquote><p>代码附带大多数依赖项。但是，我们依赖于开源的 <a target="_blank" rel="noopener" href="https://developer.nvidia.com/falcor">Falcor</a> 框架，它具有许多外部依赖关系。这些都是通过一个简单的脚本下载的，该脚本在 Visual Studio 中作为构建步骤运行（<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutorCodeReadme.txt">请参阅自述文件</a>），因此您第一次构建项目可能比平时需要更长的时间。</p><blockquote><p>The code for RS4 comes with a custom, precompiled version of Falcor. The code for RS5 comes with a source copy of <a target="_blank" rel="noopener" href="https://github.com/NVIDIAGameWorks/Falcor">Falcor 3.1.0</a>, with one tiny update to a build script that copies tutorial shader files correctly during the build.</p></blockquote><p>RS4 的代码带有自定义的预编译版本的 Falcor。RS5 的代码带有 <a target="_blank" rel="noopener" href="https://github.com/NVIDIAGameWorks/Falcor">Falcor 3.1.0</a> 的源副本，并对构建脚本进行了一次微小的更新，该脚本在构建过程中正确复制了教程着色器文件。</p><h3 id="Tutorial-Walkthroughs-and-Descriptions"><a href="#Tutorial-Walkthroughs-and-Descriptions" class="headerlink" title="Tutorial Walkthroughs and Descriptions"></a>Tutorial Walkthroughs and Descriptions</h3><blockquote><p>Code for all listed tutorials is included in our <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">code bundle</a>. Each page below contains a detailed walkthrough of important aspects for each tutorial:</p><ul><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor1/tutorial01.md.html">Tutorial 1</a>: Basics. Open a window, and clear it to a user-controllable color.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor2/tutorial02.md.html">Tutorial 2</a>: Basics. Create a simple raster full screen pass with HLSL pixel shader.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">Tutorial 3</a>: Basics. Create a rasterization-based G-buffer pass. Render a loaded scene.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor4/tutorial04.md.html">Tutorial 4</a>: Start using DXR. Create the same G-buffer, this time using DirectX ray tracing.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">Tutorial 5</a>: Ambient occlusion. Start from G-buffer, trace one AO ray per pixel.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">Tutorial 6</a>: Accumulate frames over time, giving AO with arbitrarily many rays per pixel.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor7/tutorial07.md.html">Tutorial 7</a>: Antialiasing. Adds camera jitter to antialias when accumulating temporially.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">Tutorial 8</a>: Depth-of-field. Add a controllable camera aperture, introducing depth of field.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor9/tutorial09.md.html">Tutorial 9</a>: Lambertian shading, shooting one shadow ray to each light in the scene.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor10/tutorial10.md.html">Tutorial 10</a>: Add a light probe environment map for rays that miss the scene geometry.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor11/tutorial11.md.html">Tutorial 11</a>: Reduce ray count. Shoot shadow ray to only one random light per pixel.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor12/tutorial12.md.html">Tutorial 12</a>: Add one-bounce diffuse global indirect illumination.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor13/tutorial13.md.html">Tutorial 13</a>: Apply Falcor’s tonemapper to allow display of high dynamic range outputs.</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor14/tutorial14.md.html">Tutorial 14</a>: Swap out Lambertian for a glossy GGX material, add multiple light bounces.</li></ul></blockquote><p>所有列出的教程的代码都包含在我们的 <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors.Code.zip">代码包</a> 中。下面的每个页面都包含每个教程的重要方面的详细解读：</p><ul><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor1/tutorial01.md.html">教程 1</a>：基础知识.打开一个窗口，并将其清除为用户可控的颜色</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor2/tutorial02.md.html">教程 2</a>：基础知识.使用 HLSL 像素着色器创建简单的光栅全屏通道</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">教程 3</a>：基础知识.创建基于栅格化的 G 缓冲区通道。渲染加载的场景</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor4/tutorial04.md.html">教程 4</a>：开始使用 DXR。创建相同的 G 缓冲区，这次使用 DirectX 光线追踪</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">教程 5</a>：环境光遮蔽。从G缓冲区开始，追踪每个像素一条AO射线</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">教程 6</a>：随时间累积帧，为 AO 提供每像素任意多条光线</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor7/tutorial07.md.html">教程 7</a>：抗锯齿。在时间累积时将相机抖动添加到抗锯齿中</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">教程 8</a>：景深。添加可控相机光圈，引入景深</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor9/tutorial09.md.html">教程 9</a>： Lambertian 着色，向场景中的每盏灯拍摄一条阴影射线</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor10/tutorial10.md.html">教程 10</a>：为缺少场景几何图形的光线添加光照探针环境贴图</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor11/tutorial11.md.html">教程 11</a>：减少光线计数。将阴影射线拍摄到每个像素仅一个随机光</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor12/tutorial12.md.html">教程 12</a>：添加单反弹漫反射全局间接照明</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor13/tutorial13.md.html">教程 13</a>： 应用 Falcor 的音调映射器以显示高动态范围输出</li><li><a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor14/tutorial14.md.html">教程 14</a>：将 Lambertian 换成光亮的 GGX 材质，添加多个光反射</li></ul></div><div class="popular-posts-header">Related Posts</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/7dbe30e4.html" rel="bookmark">Blockwise Multi-Order Feature Regression for Real-Time Path Tracing Reconstruction</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/971404c0.html" rel="bookmark">Rendering Course by Wangningbei</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/8b6729fe.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 14</a></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/Computer-Graphics/" rel="tag"># Computer Graphics</a> <a href="/tags/Ray-Tracing/" rel="tag"># Ray Tracing</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/aa04c3ff.html" rel="prev" title="双城之战的对白艺术--运用潜台词构建冲突"><i class="fa fa-chevron-left"></i> 双城之战的对白艺术--运用潜台词构建冲突</a></div><div class="post-nav-item"><a href="/archives/481df045.html" rel="next" title="A Gentle Introduction to DirectX Raytracing 1">A Gentle Introduction to DirectX Raytracing 1 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:e}=CONFIG.comments;if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">引言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-DirectX-Raytracing"><span class="nav-number">2.</span> <span class="nav-text">What is DirectX Raytracing?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Resources-for-Learning-Ray-Tracing"><span class="nav-number">2.1.</span> <span class="nav-text">Resources for Learning Ray Tracing</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tutorial-Goals"><span class="nav-number">3.</span> <span class="nav-text">Tutorial Goals</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tutorial-Requirements"><span class="nav-number">4.</span> <span class="nav-text">Tutorial Requirements</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Getting-the-Code"><span class="nav-number">5.</span> <span class="nav-text">Getting the Code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tutorial-Walkthroughs-and-Descriptions"><span class="nav-number">6.</span> <span class="nav-text">Tutorial Walkthroughs and Descriptions</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yousazoe" src="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><p class="site-author-name" itemprop="name">Yousazoe</p><div class="site-description" itemprop="description">done is better than perfect</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">284</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">45</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">71</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:zoeyousa@gmail.com" title="E-Mail → mailto:zoeyousa@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://github.com/Yousazoe" title="GitHub → https://github.com/Yousazoe" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/YousaZoe" title="Twitter → https://twitter.com/YousaZoe" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" title="Weibo → https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://steamcommunity.com/profiles/76561198856466228/" title="Steam → https://steamcommunity.com/profiles/76561198856466228/" rel="noopener" target="_blank"><i class="fab fa-steam fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.chess.com/member/yousazoe" title="Chess → https://www.chess.com/member/yousazoe" rel="noopener" target="_blank"><i class="fa fa-chess-pawn fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → /atom.xml"><i class="fa fa-rss fa-fw"></i></a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div><div class="twopeople"><div class="container" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://img.yousazoe.top/js/twopeople1.js"></script><script src="https://img.yousazoe.top/js/zdog.dist.js"></script><script id="rendered-js" src="https://img.yousazoe.top/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style></div><div class="cc-license animated" itemprop="sponsor"><link rel="preconnect" href="https://www.netlify.com"><span class="exturl cc-opacity" title="Deploy with Netlify → https://www.netlify.com" data-url="aHR0cHM6Ly93d3cubmV0bGlmeS5jb20="><img width="80" src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Netlify"></span></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="translate-style">繁/简：<a id="translateLink" href="javascript:translatePage();">繁体</a></div><script type="text/javascript" src="/js/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://tding.top/",msgToTraditionalChinese="繁体",msgToSimplifiedChinese="简体",translateButtonId="translateLink";translateInitilization()</script><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">晋ICP备2021009930号 </a><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://img.yousazoe.top/uPic/img/blog/icon/beian.png" style="display:inline-block"></div><div class="copyright">© 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yousazoe</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="Symbols count total">4.4m</span></div><div class="powered-by"><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/YukiNoUta/cdn-static@main/blog/svg/upyun.svg" width="53" height="18" style="fill:currentColor;display:inline-block"></a></span><span class="post-meta-divider">|</span>今早雾霾蔽日，但是不要害怕，太阳依旧在云端</div><div class="busuanzi-count"><script data-pjax="" async="" src="js/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="//unpkg.com/animejs@3.1.0/lib/anime.min.js"></script><script src="//npm.elemecdn.com/pjax/pjax.min.js"></script><script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="//unpkg.com/lozad@1.16.0/dist/lozad.min.js"></script><script src="//lib.baomitu.com/pangu/4.0.7/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
    $(document).ready(function () {

    if(location.href.indexOf("#reloaded")==-1){
        location.href=location.href+"#reloaded";
        location.reload();
    }
}）
#在这后面可以加入程序的其他代码  


  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });

  
  NexT.boot.refresh();
  
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  
  NexT.utils.updateSidebarPosition();
});</script><script defer="" src="//img.yousazoe.top/js/three.min.js"></script><script defer="" src="//img.yousazoe.top/js/caidai.js"></script><script data-pjax="">!function(){var e,t,o,n,r=document.getElementsByTagName("link");if(0<r.length)for(i=0;i<r.length;i++)"canonical"==r[i].rel.toLowerCase()&&r[i].href&&(e=r[i].href);t=(e||window.location.protocol).split(":")[0],e=e||window.location.href,window,o=e,n=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(o)||(t="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",n?(t+="?r="+encodeURIComponent(document.referrer),o&&(t+="&l="+o)):o&&(t+="?l="+o),(new Image).src=t)}()</script><script src="/js/local-search.js"></script><script data-pjax="">document.querySelectorAll(".pdfobject-container").forEach(e=>{var t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),r=`/lib/pdf/web/viewer.html?file=${encodeURIComponent(t)}${a}`;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${r}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script data-pjax="">document.querySelectorAll("pre.mermaid").length&&NexT.utils.getScript("//lib.baomitu.com/mermaid/8.4.8/mermaid.min.js",()=>{mermaid.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})},window.mermaid)</script><div id="pjax"></div><script type="text/javascript" src="/js/cursor/fireworks.js"></script><script src="https://img.yousazoe.top/live2dw/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/hijiki.model.json"},display:{position:"right",width:100,height:200},mobile:{show:!0},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:5,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}o(),n.addEventListener("scroll",function(){var t=o,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>