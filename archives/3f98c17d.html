<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/favicon.ico" color="#222"><meta name="google-site-verification" content="35AYyqm-wpmGmXtkn-vQMrk7AkFl1Do55uHdlLLLT38"><meta name="baidu-site-verification" content="slBbq5f8WxljPytW"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="//lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/5.15.4/css/all.min.css"><link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//unpkg.com/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//unpkg.com/pace-js@1.2.4/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yousazoe.top",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:3,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="å¼•è¨€æœ¬èŠ‚çš„ä¸»é¢˜æ˜¯æŠ—é”¯é½¿ï¼Œåœ¨æ—¶é—´ç´¯ç§¯æ—¶å°†ç›¸æœºæŠ–åŠ¨æ·»åŠ åˆ°æŠ—é”¯é½¿ä¸­ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="A Gentle Introduction to DirectX Raytracing 7"><meta property="og:url" content="https://yousazoe.top/archives/3f98c17d.html"><meta property="og:site_name" content="Fl0w3r"><meta property="og:description" content="å¼•è¨€æœ¬èŠ‚çš„ä¸»é¢˜æ˜¯æŠ—é”¯é½¿ï¼Œåœ¨æ—¶é—´ç´¯ç§¯æ—¶å°†ç›¸æœºæŠ–åŠ¨æ·»åŠ åˆ°æŠ—é”¯é½¿ä¸­ã€‚"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output-20211229101549399.png"><meta property="article:published_time" content="2021-12-29T02:13:19.000Z"><meta property="article:modified_time" content="2024-09-24T07:05:24.480Z"><meta property="article:author" content="Yousazoe"><meta property="article:tag" content="Computer Graphics"><meta property="article:tag" content="Ray Tracing"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"><link rel="canonical" href="https://yousazoe.top/archives/3f98c17d.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>A Gentle Introduction to DirectX Raytracing 7 | Fl0w3r</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Fl0w3r" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Fl0w3r</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">carpe diem</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-address-card fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-paperclip fa-fw"></i>Links</a></li><li class="menu-item menu-item-photos"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Photos</a></li><li class="menu-item menu-item-artitalk"><a href="/artitalk/" rel="section"><i class="fa fa-calendar fa-fw"></i>Artitalk</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-document"><a href="/docs/" rel="section"><i class="fas fa-book fa-fw"></i>Document</a></li><li class="menu-item menu-item-qexoadmin"><a href="https://blog-yousazoe-qexo.vercel.app/" rel="noopener" target="_blank"><i class="fa fa-database fa-fw"></i>QexoAdmin</a></li><li class="menu-item menu-item-gametracker"><a href="https://yousazoe.notion.site/yousazoe/b05999823bd14b57a7a6cd81fba1a1af?v=21c3398e0bdb429c9b8157b7bf12ff6a" rel="noopener" target="_blank"><i class="fas fa-trophy fa-fw"></i>GameTracker</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://yousazoe.top/archives/3f98c17d.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><meta itemprop="name" content="Yousazoe"><meta itemprop="description" content="done is better than perfect"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Fl0w3r"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">A Gentle Introduction to DirectX Raytracing 7</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-12-29 10:13:19" itemprop="dateCreated datePublished" datetime="2021-12-29T10:13:19+08:00">2021-12-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA-Ray-Tracing/" itemprop="url" rel="index"><span itemprop="name">å…‰çº¿è¿½è¸ª (Ray Tracing)</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fas fa-pen"></i></span><span>5.4k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span>10 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style><p><img data-src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"></p><h3 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h3><p>æœ¬èŠ‚çš„ä¸»é¢˜æ˜¯æŠ—é”¯é½¿ï¼Œåœ¨æ—¶é—´ç´¯ç§¯æ—¶å°†ç›¸æœºæŠ–åŠ¨æ·»åŠ åˆ°æŠ—é”¯é½¿ä¸­ã€‚</p><span id="more"></span><blockquote><p>In <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">Tutorial 6</a>, we built a <code>SimpleAccumulationPass</code> that allows averaging multiple frames in sequence to get high-quality, noise-free results. However, this leaves numerous problems, including obvious aliasing along geometric edges.</p></blockquote><p>åœ¨<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">æ•™ç¨‹6</a>ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ª <code>SimpleAccumulationPass</code>ã€‚å®ƒå…è®¸æŒ‰é¡ºåºå¹³å‡å¤šä¸ªå¸§ä»¥è·å¾—é«˜è´¨é‡ï¼Œæ— å™ªå£°çš„ç»“æœã€‚ä½†æ˜¯ï¼Œè¿™ç•™ä¸‹äº†è®¸å¤šé—®é¢˜ï¼ŒåŒ…æ‹¬æ²¿å‡ ä½•è¾¹ç¼˜çš„æ˜æ˜¾é”¯é½¿ã€‚</p><blockquote><p>In this tutorial, we add a simple antialiasing scheme by <strong>jittering</strong> the camera position and using the <code>SimpleAccumulationPass</code> to average the jittered camera locations. While this antialiasing scheme is quite simple, camera jitter is used in many more advanced schemes including todayâ€™s state-of-the-art <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Temporal_anti-aliasing">temporal antialiasing (TAA)</a> techniques.</p></blockquote><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<strong>æŠ–åŠ¨</strong>ç›¸æœºä½ç½®å¹¶ä½¿ç”¨ <code>SimpleAccumulationPass</code> æ¥å¹³å‡æŠ–åŠ¨çš„ç›¸æœºä½ç½®ï¼Œä»è€Œæ·»åŠ ä¸€ä¸ªç®€å•çš„æŠ—é”¯é½¿æ–¹æ¡ˆã€‚è™½ç„¶è¿™ç§æŠ—é”¯é½¿æ–¹æ¡ˆéå¸¸ç®€å•ï¼Œä½†ç›¸æœºæŠ–åŠ¨ç”¨äºè®¸å¤šæ›´é«˜çº§çš„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å½“ä»Šæœ€å…ˆè¿›çš„<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Temporal_anti-aliasing">æ—¶é—´æŠ—é”¯é½¿ï¼ˆTAAï¼‰</a>æŠ€æœ¯ã€‚</p><h3 id="Our-Antialised-Rendering-Pipeline"><a href="#Our-Antialised-Rendering-Pipeline" class="headerlink" title="Our Antialised Rendering Pipeline"></a>Our Antialised Rendering Pipeline</h3><blockquote><p>If you open up <code>Tutor07-SimpleAntialiasing.cpp</code>, you will find our new pipeline combines a new <code>JitteredGBufferPass</code>, the <code>AmbientOcclusionPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">Tutorial 5</a>, and the new <code>SimpleAccumulationPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">Tutorial 6</a>.</p></blockquote><p>å¦‚æœæ‚¨æ‰“å¼€ <code>Tutor07-SimpleAntialiasing.cpp</code>ï¼Œæ‚¨ä¼šå‘ç°æˆ‘ä»¬çš„æ–°ç®¡é“ç»“åˆäº†æ–°çš„ <code>JitteredGBufferPass</code> <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">æ•™ç¨‹5</a>ä¸­çš„ <code>AmbientOcclusionPass</code> å’Œ<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">æ•™ç¨‹6</a>ä¸­çš„æ–°<code>SimpleAccumulationPass</code>ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Create our rendering pipeline</span></span><br><span class="line">RenderingPipeline *pipeline = <span class="keyword">new</span> <span class="built_in">RenderingPipeline</span>();</span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">0</span>, JitteredGBufferPass::<span class="built_in">create</span>());   </span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">1</span>, AmbientOcclusionPass::<span class="built_in">create</span>());    </span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">2</span>, </span><br><span class="line">    SimpleAccumulationPass::<span class="built_in">create</span>(ResourceManager::kOutputChannel)); </span><br></pre></td></tr></tbody></table></figure><blockquote><p>This <code>JitteredGBufferPass</code> builds on the <code>SimpleGBufferPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">Tutorial 3</a> but computes a per-frame camera jitter. You can think of this jitter as moving the center of each pixel slightly every frame, by +/- 0.5 pixel in any direction.</p></blockquote><p>æ­¤ <code>JitteredGBufferPass</code> åŸºäº<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">æ•™ç¨‹ 3</a>ä¸­çš„ <code>SimpleGBufferPass</code> æ„å»ºï¼Œä½†è®¡ç®—æ¯å¸§ç›¸æœºæŠ–åŠ¨ã€‚æ‚¨å¯ä»¥å°†è¿™ç§æŠ–åŠ¨è§†ä¸ºæ¯å¸§å°†æ¯ä¸ªåƒç´ çš„ä¸­å¿ƒç¨å¾®ç§»åŠ¨ä¸€ç‚¹ï¼Œå‘ä»»ä½•æ–¹å‘ç§»åŠ¨+/- 0.5åƒç´ ã€‚</p><blockquote><p>The compilable tutorial code provides two different ways of selecting this jitter: using a set of discrete samples (the positions used for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Multisample_anti-aliasing">8x MSAA</a>) or using a randomly selected offset each frame. Both techniques work identically, the only change is how the offset in [âˆ’0.5..+0.5] is computed. The discussion below only walks through the random jitter.</p></blockquote><p>å¯ç¼–è¯‘çš„æ•™ç¨‹ä»£ç æä¾›äº†ä¸¤ç§ä¸åŒçš„æ–¹æ³•æ¥é€‰æ‹©è¿™ç§æŠ–åŠ¨ï¼šä½¿ç”¨ä¸€ç»„ç¦»æ•£æ ·æœ¬ï¼ˆç”¨äº<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Multisample_anti-aliasing">8x MSAA</a>çš„ä½ç½®ï¼‰æˆ–ä½¿ç”¨æ¯å¸§éšæœºé€‰æ‹©çš„åç§»é‡ã€‚è¿™ä¸¤ç§æŠ€æœ¯çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼Œå”¯ä¸€çš„å˜åŒ–æ˜¯ [âˆ’0.5.+0.5] è®¡ç®—ã€‚ä¸‹é¢çš„è®¨è®ºä»…ä»‹ç»éšæœºæŠ–åŠ¨ã€‚</p><h3 id="Setting-up-Our-Jittered-Camera-Pass"><a href="#Setting-up-Our-Jittered-Camera-Pass" class="headerlink" title="Setting up Our Jittered Camera Pass"></a>Setting up Our Jittered Camera Pass</h3><blockquote><p>Continue by looking in <code>JitteredGBufferPass.h</code>, which should look similar to <code>SimpleGBufferPass.h</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">Tutorial 3</a>.</p></blockquote><p>ç»§ç»­æŸ¥çœ‹ <code>JitteredGBufferPass.h</code>ï¼Œå®ƒçœ‹èµ·æ¥åº”è¯¥ç±»ä¼¼äº<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">æ•™ç¨‹ 3</a>ä¸­çš„<code>SimpleGBufferPass.h</code>ã€‚</p><blockquote><p>Key changes are a number of new variables related to random number selection:</p></blockquote><p>ä¸»è¦å˜åŒ–æ˜¯ä¸éšæœºæ•°é€‰æ‹©ç›¸å…³çš„è®¸å¤šæ–°å˜é‡ï¼š</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">bool</span>                                  mUseJitter = <span class="literal">true</span>; </span><br><span class="line">std::uniform_real_distribution&lt;<span class="type">float</span>&gt; mRngDist;     </span><br><span class="line">std::mt19937                          mRng;      </span><br></pre></td></tr></tbody></table></figure><blockquote><p><code>mUseJitter</code> is a user-controllable variable in the GUI that allows toggling camera jitter. <code>mRng</code> and <code>mRngDist</code> are random number generators from the C++ standard library. It turns out the default initialization for <code>mRngDist</code> is exactly what we want. We initialize <code>mRng</code> in <code>JitteredGBufferPass::initialize</code> by seeding it with the current time (which we also get from the C++ standard library).</p></blockquote><p><code>mUseJitter</code> æ˜¯ GUI ä¸­ç”¨æˆ·å¯æ§åˆ¶çš„å˜é‡ï¼Œå…è®¸åˆ‡æ¢ç›¸æœºæŠ–åŠ¨ã€‚ <code>mRng</code> å’Œ <code>mRngDist</code> æ˜¯æ¥è‡ª C++ æ ‡å‡†åº“çš„éšæœºæ•°ç”Ÿæˆå™¨ã€‚äº‹å®è¯æ˜ <code>mRngDist</code> çš„é»˜è®¤åˆå§‹åŒ–æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æˆ‘ä»¬åœ¨ <code>JitteredGBufferPass::initialize</code> ä¸­åˆå§‹åŒ– <code>mRng</code> æ–¹æ³•æ˜¯ç”¨å½“å‰æ—¶é—´è®¾å®šç§å­ï¼ˆæˆ‘ä»¬ä¹Ÿä» C++ æ ‡å‡†åº“ä¸­è·å¾—ï¼‰ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">JitteredGBufferPass::initialize</span><span class="params">(RenderContext::SharedPtr pRenderContext, </span></span></span><br><span class="line"><span class="params"><span class="function">                                     ResourceManager::SharedPtr pResManager)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">auto</span> now    = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">  <span class="keyword">auto</span> msTime = std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::milliseconds&gt;(now);</span><br><span class="line">  mRng        = std::<span class="built_in">mt19937</span>( <span class="built_in">uint32_t</span>(msTime.<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>()) );</span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="Rendering-With-a-Jittered-Camera-Pass"><a href="#Rendering-With-a-Jittered-Camera-Pass" class="headerlink" title="Rendering With a Jittered Camera Pass"></a>Rendering With a Jittered Camera Pass</h3><blockquote><p>Now that we have set up our random number generator, we can add camera jitter in a very straightforward way during our <code>JitteredGBufferPass::execute()</code>, which is a direct copy of the <code>SimpleGBufferPass</code> except the following additional lines:</p></blockquote><p>ç°åœ¨æˆ‘ä»¬å·²ç»è®¾ç½®äº†éšæœºæ•°ç”Ÿæˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>JitteredGBufferPass::execute()</code> æœŸé—´ä»¥éå¸¸ç®€å•çš„æ–¹å¼æ·»åŠ ç›¸æœºæŠ–åŠ¨ï¼Œè¿™æ˜¯ <code>SimpleGBufferPass</code> çš„ç›´æ¥å‰¯æœ¬ï¼Œé™¤äº†ä»¥ä¸‹é™„åŠ è¡Œï¼š</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">JitteredGBufferPass::execute</span><span class="params">(RenderContext::SharedPtr pRenderContext)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (mUseJitter &amp;&amp; mpScene &amp;&amp; mpScene-&gt;<span class="built_in">getActiveCamera</span>()) {</span><br><span class="line">     uint2 screenSz = mpResManger-&gt;<span class="built_in">getScreenSize</span>();</span><br><span class="line">     <span class="type">float</span> xJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.x);</span><br><span class="line">     <span class="type">float</span> yJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.y);</span><br><span class="line">     mpScene-&gt;<span class="built_in">getActiveCamera</span>()-&gt;<span class="built_in">setJitter</span>( xJitter, yJitter );</span><br><span class="line">  }</span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>The <code>if</code> is protection against undefined results, since we canâ€™t jitter the camera if we donâ€™t have a valid scene or camera.</p></blockquote><p><code>if</code> æ˜¯é’ˆå¯¹æœªå®šä¹‰ç»“æœçš„ä¿æŠ¤ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬æ²¡æœ‰æœ‰æ•ˆçš„åœºæ™¯æˆ–ç›¸æœºï¼Œæˆ‘ä»¬å°±æ— æ³•æŠ–åŠ¨ç›¸æœºã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (mUseJitter &amp;&amp; mpScene &amp;&amp; mpScene-&gt;<span class="built_in">getActiveCamera</span>()) {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>We then get a random number. <code>mRngDist(mRng)</code> returns a random value between 0 and 1. We offset that to get a random value between âˆ’0.5 and +0.5.</p></blockquote><p>ç„¶åæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªéšæœºæ•°ã€‚ <code>mRngDist(mRng)</code> è¿”å›ä¸€ä¸ªä»‹äº 0 å’Œ 1 ä¹‹é—´çš„éšæœºå€¼ã€‚æˆ‘ä»¬åç§»å®ƒä»¥è·å¾—ä¸€ä¸ªä»‹äº âˆ’0.5 å’Œ +0.5 ä¹‹é—´çš„éšæœºå€¼ã€‚</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">float</span> xJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.x);</span><br><span class="line"><span class="type">float</span> yJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.y);</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Falcorâ€™s camera system already has a built-in method for camera jittering, but it requires the jitter to be relative to the entire screen, rather than an individual pixel, so we need to divide by the screen resolution prior to calling <code>setJitter()</code>.</p></blockquote><p>Falcorçš„ç›¸æœºç³»ç»Ÿå·²ç»å†…ç½®äº†ç›¸æœºæŠ–åŠ¨çš„æ–¹æ³•ï¼Œä½†å®ƒè¦æ±‚æŠ–åŠ¨ç›¸å¯¹äºæ•´ä¸ªå±å¹•ï¼Œè€Œä¸æ˜¯å•ä¸ªåƒç´ ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨è°ƒç”¨ <code>setJitter()</code> ä¹‹å‰é™¤ä»¥å±å¹•åˆ†è¾¨ç‡ã€‚.</p><blockquote><p>Interestingly, adding camera jitter requires no changes to our shader code, so at this point we are done.</p></blockquote><p>æœ‰è¶£çš„æ˜¯ï¼Œæ·»åŠ ç›¸æœºæŠ–åŠ¨ä¸éœ€è¦æ›´æ”¹ç€è‰²å™¨ä»£ç ï¼Œå› æ­¤æ­¤æ—¶æˆ‘ä»¬å·²å®Œæˆã€‚</p><h3 id="What-Does-it-Look-Like"><a href="#What-Does-it-Look-Like" class="headerlink" title="What Does it Look Like?"></a>What Does it Look Like?</h3><blockquote><p>That covers the important points of this tutorial. When running, you get the following result:</p></blockquote><p>è¿™æ¶µç›–äº†æœ¬æ•™ç¨‹çš„è¦ç‚¹ã€‚è¿è¡Œæ—¶ï¼Œæ‚¨å°†è·å¾—ä»¥ä¸‹ç»“æœï¼š</p><p><img data-src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output-20211229101549399.png"></p><blockquote><p>Hopefully, this tutorial demonstrated how to add randomized jitter to the camera to achieve simple antialiasing when combined with temporal accumulation.</p></blockquote><p>å¸Œæœ›æœ¬æ•™ç¨‹æ¼”ç¤ºäº†å¦‚ä½•å‘ç›¸æœºæ·»åŠ éšæœºæŠ–åŠ¨ï¼Œä»¥ä¾¿åœ¨ä¸æ—¶é—´ç´¯ç§¯ç›¸ç»“åˆæ—¶å®ç°ç®€å•çš„æŠ—é”¯é½¿ã€‚</p><blockquote><p>When you are ready, continue on to <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">Tutorial 8</a>, which uses a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Thin_lens">thin lens camera model</a> rather than the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pinhole_camera_model">pinhole camera model</a> usually used in interactive computer graphics. Using a thin lens camera allows us to generate dynamic <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Depth_of_field">depth of field</a>.</p></blockquote><p>å‡†å¤‡å°±ç»ªåï¼Œè¯·ç»§ç»­å­¦ä¹ <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">æ•™ç¨‹ 8</a>ï¼Œè¯¥æ•™ç¨‹ä½¿ç”¨<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Thin_lens">è–„é•œå¤´ç›¸æœºæ¨¡å‹</a>ï¼Œè€Œä¸æ˜¯è®¡ç®—æœºå›¾å½¢å­¦ä¸­é€šå¸¸ä½¿ç”¨çš„<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pinhole_camera_model">äº¤äº’å¼é’ˆå­”ç›¸æœºæ¨¡å‹</a>ã€‚ä½¿ç”¨è–„é•œå¤´ç›¸æœºå¯ä»¥è®©æˆ‘ä»¬äº§ç”Ÿ<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Depth_of_field">åŠ¨æ€æ™¯æ·±</a>ã€‚</p></div><div class="popular-posts-header">Related Posts</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/7dbe30e4.html" rel="bookmark">Blockwise Multi-Order Feature Regression for Real-Time Path Tracing Reconstruction</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/971404c0.html" rel="bookmark">Rendering Course by Wangningbei</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/8b6729fe.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 14</a></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/Computer-Graphics/" rel="tag"># Computer Graphics</a> <a href="/tags/Ray-Tracing/" rel="tag"># Ray Tracing</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/6b9a4c74.html" rel="prev" title="ä¸‰ç»´å‡ ä½•å­¦åŸºç¡€"><i class="fa fa-chevron-left"></i> ä¸‰ç»´å‡ ä½•å­¦åŸºç¡€</a></div><div class="post-nav-item"><a href="/archives/6849f5d9.html" rel="next" title="Modern CMake by Example">Modern CMake by Example <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:e}=CONFIG.comments;if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">å¼•è¨€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Our-Antialised-Rendering-Pipeline"><span class="nav-number">2.</span> <span class="nav-text">Our Antialised Rendering Pipeline</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setting-up-Our-Jittered-Camera-Pass"><span class="nav-number">3.</span> <span class="nav-text">Setting up Our Jittered Camera Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rendering-With-a-Jittered-Camera-Pass"><span class="nav-number">4.</span> <span class="nav-text">Rendering With a Jittered Camera Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Does-it-Look-Like"><span class="nav-number">5.</span> <span class="nav-text">What Does it Look Like?</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yousazoe" src="https://img.yousazoe.top/uPic/img/blog/icon/icon.jpeg"><p class="site-author-name" itemprop="name">Yousazoe</p><div class="site-description" itemprop="description">done is better than perfect</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">310</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">51</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">77</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:zoeyousa@gmail.com" title="E-Mail â†’ mailto:zoeyousa@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://github.com/Yousazoe" title="GitHub â†’ https://github.com/Yousazoe" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/YousaZoe" title="Twitter â†’ https://twitter.com/YousaZoe" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://steamcommunity.com/profiles/76561198856466228/" title="Steam â†’ https://steamcommunity.com/profiles/76561198856466228/" rel="noopener" target="_blank"><i class="fab fa-steam fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.chess.com/member/yousazoe" title="Chess â†’ https://www.chess.com/member/yousazoe" rel="noopener" target="_blank"><i class="fa fa-chess-pawn fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://space.bilibili.com/399504060" title="Bilibili â†’ https://space.bilibili.com/399504060" rel="noopener" target="_blank"><i class="fa fa-th-large fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS â†’ /atom.xml"><i class="fa fa-rss fa-fw"></i></a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div><div class="twopeople"><div class="container" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://img.yousazoe.top/js/twopeople1.js"></script><script src="https://img.yousazoe.top/js/zdog.dist.js"></script><script id="rendered-js" src="https://img.yousazoe.top/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style></div><div class="cc-license animated" itemprop="sponsor"><link rel="preconnect" href="https://www.netlify.com"><span class="exturl cc-opacity" title="Deploy with Netlify â†’ https://www.netlify.com" data-url="aHR0cHM6Ly93d3cubmV0bGlmeS5jb20="><img width="80" src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Netlify"></span></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="translate-style">ç¹/ç®€ï¼š<a id="translateLink" href="javascript:translatePage();">ç¹ä½“</a></div><script type="text/javascript" src="/js/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://tding.top/",msgToTraditionalChinese="ç¹ä½“",msgToSimplifiedChinese="ç®€ä½“",translateButtonId="translateLink";translateInitilization()</script><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">æ™‹ICPå¤‡2021009930å· </a><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://img.yousazoe.top/uPic/img/blog/icon/beian.png" style="display:inline-block"></div><div class="copyright">Â© 2020 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yousazoe</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="Symbols count total">4.6m</span></div><div class="powered-by"><span><a target="_blank" rel="noopener" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral"><img src="https://img.yousazoe.top/uPic/img/blog/icon/mona-loading-default.gif" data-original="https://cdn.jsdelivr.net/gh/YukiNoUta/cdn-static@main/blog/svg/upyun.svg" width="53" height="18" style="fill:currentColor;display:inline-block"></a></span><span class="post-meta-divider">|</span>ä»Šæ—©é›¾éœ¾è”½æ—¥ï¼Œä½†æ˜¯ä¸è¦å®³æ€•ï¼Œå¤ªé˜³ä¾æ—§åœ¨äº‘ç«¯</div><div class="busuanzi-count"><script data-pjax="" async="" src="js/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:inline"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="//unpkg.com/animejs@3.1.0/lib/anime.min.js"></script><script src="//npm.elemecdn.com/pjax/pjax.min.js"></script><script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="//unpkg.com/lozad@1.16.0/dist/lozad.min.js"></script><script src="//lib.baomitu.com/pangu/4.0.7/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
    $(document).ready(function () {

    if(location.href.indexOf("#reloaded")==-1){
        location.href=location.href+"#reloaded";
        location.reload();
    }
}ï¼‰
#åœ¨è¿™åé¢å¯ä»¥åŠ å…¥ç¨‹åºçš„å…¶ä»–ä»£ç   


  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });

  
  NexT.boot.refresh();
  
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  
  NexT.utils.updateSidebarPosition();
});</script><script defer="" src="//img.yousazoe.top/js/three.min.js"></script><script defer="" src="//img.yousazoe.top/js/caidai.js"></script><script data-pjax="">!function(){var e,t,o,n,r=document.getElementsByTagName("link");if(0<r.length)for(i=0;i<r.length;i++)"canonical"==r[i].rel.toLowerCase()&&r[i].href&&(e=r[i].href);t=(e||window.location.protocol).split(":")[0],e=e||window.location.href,window,o=e,n=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(o)||(t="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",n?(t+="?r="+encodeURIComponent(document.referrer),o&&(t+="&l="+o)):o&&(t+="?l="+o),(new Image).src=t)}()</script><script src="/js/local-search.js"></script><script data-pjax="">document.querySelectorAll(".pdfobject-container").forEach(e=>{var t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),r=`/lib/pdf/web/viewer.html?file=${encodeURIComponent(t)}${a}`;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${r}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script data-pjax="">document.querySelectorAll("pre.mermaid").length&&NexT.utils.getScript("//lib.baomitu.com/mermaid/8.4.8/mermaid.min.js",()=>{mermaid.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})},window.mermaid)</script><div id="pjax"><script src="https://unpkg.com/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>var options={bottom:"64px",right:"unset",left:"32px",time:"0.5s",mixColor:"transparent",backgroundColor:"transparent",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"ğŸŒ“",autoMatchOsTheme:!0};const darkmode=new Darkmode(options);window.darkmode=darkmode,darkmode.showWidget()</script></div><script type="text/javascript" src="/js/cursor/fireworks.js"></script><script src="https://img.yousazoe.top/live2dw/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/hijiki.model.json"},display:{position:"right",width:100,height:200},mobile:{show:!0},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:5,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}o(),n.addEventListener("scroll",function(){var t=o,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>