<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico"><link rel="mask-icon" href="/images/favicon.ico" color="#222"><meta name="baidu-site-verification" content="slBbq5f8WxljPytW"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.proxy.ustclug.org/css?family=Lato:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"><link rel="stylesheet" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//fastly.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yousazoe.top",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:null,storage:!0,lazyload:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:3,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="引言本节的主题是抗锯齿，在时间累积时将相机抖动添加到抗锯齿中。"><meta property="og:type" content="article"><meta property="og:title" content="A Gentle Introduction to DirectX Raytracing 7"><meta property="og:url" content="https://yousazoe.top/archives/3f98c17d.html"><meta property="og:site_name" content="Fl0w3r"><meta property="og:description" content="引言本节的主题是抗锯齿，在时间累积时将相机抖动添加到抗锯齿中。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output-20211229101549399.png"><meta property="article:published_time" content="2021-12-29T02:13:19.000Z"><meta property="article:modified_time" content="2022-06-18T11:57:14.001Z"><meta property="article:author" content="Yousazoe"><meta property="article:tag" content="Computer Graphics"><meta property="article:tag" content="Ray Tracing"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"><link rel="canonical" href="https://yousazoe.top/archives/3f98c17d.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"en"}</script><title>A Gentle Introduction to DirectX Raytracing 7 | Fl0w3r</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Fl0w3r" type="application/atom+xml"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Fl0w3r</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">carpe diem</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-address-card fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-links"><a href="/links/" rel="section"><i class="fa fa-paperclip fa-fw"></i>Links</a></li><li class="menu-item menu-item-photos"><a href="/photos/" rel="section"><i class="fa fa-camera fa-fw"></i>Photos</a></li><li class="menu-item menu-item-artitalk"><a href="/artitalk/" rel="section"><i class="fa fa-calendar fa-fw"></i>Artitalk</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-document"><a href="/docs/" rel="section"><i class="fas fa-book fa-fw"></i>Document</a></li><li class="menu-item menu-item-qexoadmin"><a href="https://blog-yousazoe-qexo.vercel.app/" rel="noopener" target="_blank"><i class="fa fa-database fa-fw"></i>QexoAdmin</a></li><li class="menu-item menu-item-gametracker"><a href="https://yousazoe.notion.site/yousazoe/b05999823bd14b57a7a6cd81fba1a1af?v=21c3398e0bdb429c9b8157b7bf12ff6a" rel="noopener" target="_blank"><i class="fas fa-trophy fa-fw"></i>GameTracker</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope="" itemtype="http://schema.org/Article" class="post-block" lang="en"><link itemprop="mainEntityOfPage" href="https://yousazoe.top/archives/3f98c17d.html"><span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="image" content="https://tva1.sinaimg.cn/large/008eGmZEly1gn2f3efk0dj30lc0lcq31.jpg"><meta itemprop="name" content="Yousazoe"><meta itemprop="description" content="done is better than perfect"></span><span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Fl0w3r"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">A Gentle Introduction to DirectX Raytracing 7</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-12-29 10:13:19" itemprop="dateCreated datePublished" datetime="2021-12-29T10:13:19+08:00">2021-12-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA-Ray-Tracing/" itemprop="url" rel="index"><span itemprop="name">光线追踪 (Ray Tracing)</span></a> </span></span><span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">Views: </span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="Symbols count in article"><span class="post-meta-item-icon"><i class="fas fa-pen"></i></span><span>5.4k</span> </span><span class="post-meta-item" title="Reading time"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span>10 mins.</span></span></div></header><div class="post-body" itemprop="articleBody"><p><img data-src="./image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output.png"></p><h3 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h3><p>本节的主题是抗锯齿，在时间累积时将相机抖动添加到抗锯齿中。</p><span id="more"></span><blockquote><p>In <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">Tutorial 6</a>, we built a <code>SimpleAccumulationPass</code> that allows averaging multiple frames in sequence to get high-quality, noise-free results. However, this leaves numerous problems, including obvious aliasing along geometric edges.</p></blockquote><p>在<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">教程6</a>中，我们构建了一个 <code>SimpleAccumulationPass</code>。它允许按顺序平均多个帧以获得高质量，无噪声的结果。但是，这留下了许多问题，包括沿几何边缘的明显锯齿。</p><blockquote><p>In this tutorial, we add a simple antialiasing scheme by <strong>jittering</strong> the camera position and using the <code>SimpleAccumulationPass</code> to average the jittered camera locations. While this antialiasing scheme is quite simple, camera jitter is used in many more advanced schemes including today’s state-of-the-art <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Temporal_anti-aliasing">temporal antialiasing (TAA)</a> techniques.</p></blockquote><p>在本教程中，我们通过<strong>抖动</strong>相机位置并使用 <code>SimpleAccumulationPass</code> 来平均抖动的相机位置，从而添加一个简单的抗锯齿方案。虽然这种抗锯齿方案非常简单，但相机抖动用于许多更高级的方案，包括当今最先进的<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Temporal_anti-aliasing">时间抗锯齿（TAA）</a>技术。</p><h3 id="Our-Antialised-Rendering-Pipeline"><a href="#Our-Antialised-Rendering-Pipeline" class="headerlink" title="Our Antialised Rendering Pipeline"></a>Our Antialised Rendering Pipeline</h3><blockquote><p>If you open up <code>Tutor07-SimpleAntialiasing.cpp</code>, you will find our new pipeline combines a new <code>JitteredGBufferPass</code>, the <code>AmbientOcclusionPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">Tutorial 5</a>, and the new <code>SimpleAccumulationPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">Tutorial 6</a>.</p></blockquote><p>如果您打开 <code>Tutor07-SimpleAntialiasing.cpp</code>，您会发现我们的新管道结合了新的 <code>JitteredGBufferPass</code> <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor5/tutorial05.md.html">教程5</a>中的 <code>AmbientOcclusionPass</code> 和<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor6/tutorial06.md.html">教程6</a>中的新<code>SimpleAccumulationPass</code>。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Create our rendering pipeline</span></span><br><span class="line">RenderingPipeline *pipeline = <span class="keyword">new</span> <span class="built_in">RenderingPipeline</span>();</span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">0</span>, JitteredGBufferPass::<span class="built_in">create</span>());   </span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">1</span>, AmbientOcclusionPass::<span class="built_in">create</span>());    </span><br><span class="line">pipeline-&gt;<span class="built_in">setPass</span>(<span class="number">2</span>, </span><br><span class="line">    SimpleAccumulationPass::<span class="built_in">create</span>(ResourceManager::kOutputChannel)); </span><br></pre></td></tr></tbody></table></figure><blockquote><p>This <code>JitteredGBufferPass</code> builds on the <code>SimpleGBufferPass</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">Tutorial 3</a> but computes a per-frame camera jitter. You can think of this jitter as moving the center of each pixel slightly every frame, by +/- 0.5 pixel in any direction.</p></blockquote><p>此 <code>JitteredGBufferPass</code> 基于<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">教程 3</a>中的 <code>SimpleGBufferPass</code> 构建，但计算每帧相机抖动。您可以将这种抖动视为每帧将每个像素的中心稍微移动一点，向任何方向移动+/- 0.5像素。</p><blockquote><p>The compilable tutorial code provides two different ways of selecting this jitter: using a set of discrete samples (the positions used for <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Multisample_anti-aliasing">8x MSAA</a>) or using a randomly selected offset each frame. Both techniques work identically, the only change is how the offset in [−0.5..+0.5] is computed. The discussion below only walks through the random jitter.</p></blockquote><p>可编译的教程代码提供了两种不同的方法来选择这种抖动：使用一组离散样本（用于<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Multisample_anti-aliasing">8x MSAA</a>的位置）或使用每帧随机选择的偏移量。这两种技术的工作方式相同，唯一的变化是 [−0.5.+0.5] 计算。下面的讨论仅介绍随机抖动。</p><h3 id="Setting-up-Our-Jittered-Camera-Pass"><a href="#Setting-up-Our-Jittered-Camera-Pass" class="headerlink" title="Setting up Our Jittered Camera Pass"></a>Setting up Our Jittered Camera Pass</h3><blockquote><p>Continue by looking in <code>JitteredGBufferPass.h</code>, which should look similar to <code>SimpleGBufferPass.h</code> from <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">Tutorial 3</a>.</p></blockquote><p>继续查看 <code>JitteredGBufferPass.h</code>，它看起来应该类似于<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor3/tutorial03.md.html">教程 3</a>中的<code>SimpleGBufferPass.h</code>。</p><blockquote><p>Key changes are a number of new variables related to random number selection:</p></blockquote><p>主要变化是与随机数选择相关的许多新变量：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">bool</span>                                  mUseJitter = <span class="literal">true</span>; </span><br><span class="line">std::uniform_real_distribution&lt;<span class="type">float</span>&gt; mRngDist;     </span><br><span class="line">std::mt19937                          mRng;      </span><br></pre></td></tr></tbody></table></figure><blockquote><p><code>mUseJitter</code> is a user-controllable variable in the GUI that allows toggling camera jitter. <code>mRng</code> and <code>mRngDist</code> are random number generators from the C++ standard library. It turns out the default initialization for <code>mRngDist</code> is exactly what we want. We initialize <code>mRng</code> in <code>JitteredGBufferPass::initialize</code> by seeding it with the current time (which we also get from the C++ standard library).</p></blockquote><p><code>mUseJitter</code> 是 GUI 中用户可控制的变量，允许切换相机抖动。 <code>mRng</code> 和 <code>mRngDist</code> 是来自 C++ 标准库的随机数生成器。事实证明 <code>mRngDist</code> 的默认初始化正是我们想要的。我们在 <code>JitteredGBufferPass::initialize</code> 中初始化 <code>mRng</code> 方法是用当前时间设定种子（我们也从 C++ 标准库中获得）。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">JitteredGBufferPass::initialize</span><span class="params">(RenderContext::SharedPtr pRenderContext, </span></span></span><br><span class="line"><span class="params"><span class="function">                                     ResourceManager::SharedPtr pResManager)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">auto</span> now    = std::chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">  <span class="keyword">auto</span> msTime = std::chrono::<span class="built_in">time_point_cast</span>&lt;std::chrono::milliseconds&gt;(now);</span><br><span class="line">  mRng        = std::<span class="built_in">mt19937</span>( <span class="built_in">uint32_t</span>(msTime.<span class="built_in">time_since_epoch</span>().<span class="built_in">count</span>()) );</span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="Rendering-With-a-Jittered-Camera-Pass"><a href="#Rendering-With-a-Jittered-Camera-Pass" class="headerlink" title="Rendering With a Jittered Camera Pass"></a>Rendering With a Jittered Camera Pass</h3><blockquote><p>Now that we have set up our random number generator, we can add camera jitter in a very straightforward way during our <code>JitteredGBufferPass::execute()</code>, which is a direct copy of the <code>SimpleGBufferPass</code> except the following additional lines:</p></blockquote><p>现在我们已经设置了随机数生成器，我们可以在 <code>JitteredGBufferPass::execute()</code> 期间以非常简单的方式添加相机抖动，这是 <code>SimpleGBufferPass</code> 的直接副本，除了以下附加行：</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">JitteredGBufferPass::execute</span><span class="params">(RenderContext::SharedPtr pRenderContext)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (mUseJitter &amp;&amp; mpScene &amp;&amp; mpScene-&gt;<span class="built_in">getActiveCamera</span>()) {</span><br><span class="line">     uint2 screenSz = mpResManger-&gt;<span class="built_in">getScreenSize</span>();</span><br><span class="line">     <span class="type">float</span> xJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.x);</span><br><span class="line">     <span class="type">float</span> yJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.y);</span><br><span class="line">     mpScene-&gt;<span class="built_in">getActiveCamera</span>()-&gt;<span class="built_in">setJitter</span>( xJitter, yJitter );</span><br><span class="line">  }</span><br><span class="line">  ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>The <code>if</code> is protection against undefined results, since we can’t jitter the camera if we don’t have a valid scene or camera.</p></blockquote><p><code>if</code> 是针对未定义结果的保护，因为如果我们没有有效的场景或相机，我们就无法抖动相机。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (mUseJitter &amp;&amp; mpScene &amp;&amp; mpScene-&gt;<span class="built_in">getActiveCamera</span>()) {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>We then get a random number. <code>mRngDist(mRng)</code> returns a random value between 0 and 1. We offset that to get a random value between −0.5 and +0.5.</p></blockquote><p>然后我们得到一个随机数。 <code>mRngDist(mRng)</code> 返回一个介于 0 和 1 之间的随机值。我们偏移它以获得一个介于 −0.5 和 +0.5 之间的随机值。</p><figure class="highlight c++"><table><tbody><tr><td class="code"><pre><span class="line"><span class="type">float</span> xJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.x);</span><br><span class="line"><span class="type">float</span> yJitter  = (<span class="built_in">mRngDist</span>(mRng) - <span class="number">0.5f</span>) / <span class="built_in">float</span>(screenSz.y);</span><br></pre></td></tr></tbody></table></figure><blockquote><p>Falcor’s camera system already has a built-in method for camera jittering, but it requires the jitter to be relative to the entire screen, rather than an individual pixel, so we need to divide by the screen resolution prior to calling <code>setJitter()</code>.</p></blockquote><p>Falcor的相机系统已经内置了相机抖动的方法，但它要求抖动相对于整个屏幕，而不是单个像素，因此我们需要在调用 <code>setJitter()</code> 之前除以屏幕分辨率。.</p><blockquote><p>Interestingly, adding camera jitter requires no changes to our shader code, so at this point we are done.</p></blockquote><p>有趣的是，添加相机抖动不需要更改着色器代码，因此此时我们已完成。</p><h3 id="What-Does-it-Look-Like"><a href="#What-Does-it-Look-Like" class="headerlink" title="What Does it Look Like?"></a>What Does it Look Like?</h3><blockquote><p>That covers the important points of this tutorial. When running, you get the following result:</p></blockquote><p>这涵盖了本教程的要点。运行时，您将获得以下结果：</p><p><img data-src="./image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/Tutor07-Output-20211229101549399.png"></p><blockquote><p>Hopefully, this tutorial demonstrated how to add randomized jitter to the camera to achieve simple antialiasing when combined with temporal accumulation.</p></blockquote><p>希望本教程演示了如何向相机添加随机抖动，以便在与时间累积相结合时实现简单的抗锯齿。</p><blockquote><p>When you are ready, continue on to <a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">Tutorial 8</a>, which uses a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Thin_lens">thin lens camera model</a> rather than the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pinhole_camera_model">pinhole camera model</a> usually used in interactive computer graphics. Using a thin lens camera allows us to generate dynamic <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Depth_of_field">depth of field</a>.</p></blockquote><p>准备就绪后，请继续学习<a target="_blank" rel="noopener" href="http://cwyman.org/code/dxrTutors/tutors/Tutor8/tutorial08.md.html">教程 8</a>，该教程使用<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Thin_lens">薄镜头相机模型</a>，而不是计算机图形学中通常使用的<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Pinhole_camera_model">交互式针孔相机模型</a>。使用薄镜头相机可以让我们产生<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Depth_of_field">动态景深</a>。</p></div><div class="popular-posts-header">Related Posts</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/8b6729fe.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 14</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/1503bc5d.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 13</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/archives/62048ccb.html" rel="bookmark">A Gentle Introduction to DirectX Raytracing 12</a></div></li></ul><footer class="post-footer"><div class="post-tags"><a href="/tags/Computer-Graphics/" rel="tag"># Computer Graphics</a> <a href="/tags/Ray-Tracing/" rel="tag"># Ray Tracing</a></div><div class="post-nav"><div class="post-nav-item"><a href="/archives/6b9a4c74.html" rel="prev" title="三维几何学基础"><i class="fa fa-chevron-left"></i> 三维几何学基础</a></div><div class="post-nav-item"><a href="/archives/6849f5d9.html" rel="next" title="Modern CMake by Example">Modern CMake by Example <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:e}=CONFIG.comments;if(CONFIG.comments.storage&&(e=localStorage.getItem("comments_active")||e),e){let t=document.querySelector(`a[href="#comment-${e}"]`);t&&t.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">Table of Contents</li><li class="sidebar-nav-overview">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E8%A8%80"><span class="nav-number">1.</span> <span class="nav-text">引言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Our-Antialised-Rendering-Pipeline"><span class="nav-number">2.</span> <span class="nav-text">Our Antialised Rendering Pipeline</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setting-up-Our-Jittered-Camera-Pass"><span class="nav-number">3.</span> <span class="nav-text">Setting up Our Jittered Camera Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rendering-With-a-Jittered-Camera-Pass"><span class="nav-number">4.</span> <span class="nav-text">Rendering With a Jittered Camera Pass</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Does-it-Look-Like"><span class="nav-number">5.</span> <span class="nav-text">What Does it Look Like?</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Yousazoe" src="https://tva1.sinaimg.cn/large/008eGmZEly1gn2f3efk0dj30lc0lcq31.jpg"><p class="site-author-name" itemprop="name">Yousazoe</p><div class="site-description" itemprop="description">done is better than perfect</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">273</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">44</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">70</span> <span class="site-state-item-name">tags</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="mailto:zoeyousa@gmail.com" title="E-Mail → mailto:zoeyousa@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://github.com/Yousazoe" title="GitHub → https://github.com/Yousazoe" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/YousaZoe" title="Twitter → https://twitter.com/YousaZoe" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" title="Weibo → https://www.weibo.com/6034231696/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://steamcommunity.com/profiles/76561198856466228/" title="Steam → https://steamcommunity.com/profiles/76561198856466228/" rel="noopener" target="_blank"><i class="fab fa-steam fa-fw"></i></a> </span><span class="links-of-author-item"><a href="https://www.chess.com/member/yousazoe" title="Chess → https://www.chess.com/member/yousazoe" rel="noopener" target="_blank"><i class="fa fa-chess-pawn fa-fw"></i></a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → /atom.xml"><i class="fa fa-rss fa-fw"></i></a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="./image/loading.gif" data-original="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div></div><div class="twopeople"><div class="container" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js"></script><script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js"></script><script id="rendered-js" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style></div><div class="cc-license animated" itemprop="sponsor"><span class="exturl cc-opacity" title="Deploy with Netlify → https://www.netlify.com" data-url="aHR0cHM6Ly93d3cubmV0bGlmeS5jb20="><img width="80" src="./image/loading.gif" data-original="https://www.netlify.com/img/global/badges/netlify-dark.svg" alt="Netlify"></span></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="translate-style">繁/简：<a id="translateLink" href="javascript:translatePage();">繁体</a></div><script type="text/javascript" src="/js/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://tding.top/",msgToTraditionalChinese="繁体",msgToSimplifiedChinese="简体",translateButtonId="translateLink";translateInitilization()</script><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">晋ICP备2021009930号 </a><img src="./image/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Yousazoe/picgo-repo/img/备案图标.png" style="display:inline-block"></div><div class="copyright">© 2020 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Yousazoe</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="Symbols count total">4.1m</span></div><div class="powered-by">今早雾霾蔽日，但是不要害怕，太阳依旧在云端</div><div class="busuanzi-count"><script data-pjax="" async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="Total Visitors"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-divider">|</span> <span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="Total Views"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//fastly.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"></script><script src="//fastly.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//fastly.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
    $(document).ready(function () {

    if(location.href.indexOf("#reloaded")==-1){
        location.href=location.href+"#reloaded";
        location.reload();
    }
}）
#在这后面可以加入程序的其他代码  


  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });

  
  NexT.boot.refresh();
  
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  
  NexT.utils.updateSidebarPosition();
});</script><script defer="" src="/lib/three/three.min.js"></script><script defer="" src="//fastly.jsdelivr.net/gh/bynotes/texiao/source/js/caidai.js"></script><script data-pjax="">!function(){var e,t,o,n,r=document.getElementsByTagName("link");if(0<r.length)for(i=0;i<r.length;i++)"canonical"==r[i].rel.toLowerCase()&&r[i].href&&(e=r[i].href);t=(e||window.location.protocol).split(":")[0],e=e||window.location.href,window,o=e,n=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(o)||(t="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",n?(t+="?r="+encodeURIComponent(document.referrer),o&&(t+="&l="+o)):o&&(t+="?l="+o),(new Image).src=t)}()</script><script src="/js/local-search.js"></script><script src="//code.tidio.co/ij6vccjedzwoh5yxyoc9qbw6tycfnwjj.js"></script><script data-pjax="">document.querySelectorAll(".pdfobject-container").forEach(e=>{var t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&"),r=`/lib/pdf/web/viewer.html?file=${encodeURIComponent(t)}${a}`;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${r}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script data-pjax="">document.querySelectorAll("pre.mermaid").length&&NexT.utils.getScript("//fastly.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js",()=>{mermaid.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})},window.mermaid)</script><div id="pjax"></div><script type="text/javascript" src="/js/cursor/fireworks.js"></script><script async="" src="//code.tidio.co/ij6vccjedzwoh5yxyoc9qbw6tycfnwjj.js"></script><script>!function(t,h,e,j){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:2272201,hjsv:6},e=h.getElementsByTagName("head")[0],(j=h.createElement("script")).async=1,j.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,e.appendChild(j)}(window,document)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"live2d-widget-model-hijiki"},display:{position:"right",width:100,height:200},mobile:{show:!0},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:3,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var e=n.imageLazyLoadSetting.isSPA,i=n.imageLazyLoadSetting.preloadRatio||1,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight*i||document.documentElement.clientHeight*i)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}o(),n.addEventListener("scroll",function(){var t=o,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script><script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>